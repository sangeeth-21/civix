/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/register/route";
exports.ids = ["app/api/auth/register/route"];
exports.modules = {

/***/ "(rsc)/./app/api/auth/register/route.ts":
/*!****************************************!*\
  !*** ./app/api/auth/register/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./models/User.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/logger */ \"(rsc)/./lib/logger.ts\");\n/* harmony import */ var _lib_services_email__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/services/email */ \"(rsc)/./lib/services/email.ts\");\n\n\n\n\n\nconst logger = (0,_lib_logger__WEBPACK_IMPORTED_MODULE_3__.createNamespaceLogger)('api:auth:register');\nasync function POST(request) {\n    try {\n        logger.info('Processing registration request');\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const { name, email, password, phone } = await request.json();\n        // Validate input\n        if (!name || !email || !password) {\n            logger.warn('Registration attempt with missing required fields');\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Name, email, and password are required'\n            }, {\n                status: 400\n            });\n        }\n        // Check if email is already in use\n        logger.debug('Checking if email exists', {\n            email\n        });\n        const existingUser = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            email\n        });\n        if (existingUser) {\n            logger.warn('Registration attempt with existing email', {\n                email\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Email is already in use'\n            }, {\n                status: 400\n            });\n        }\n        // Validate password strength\n        if (password.length < 8) {\n            logger.warn('Registration attempt with weak password', {\n                email\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Password must be at least 8 characters long'\n            }, {\n                status: 400\n            });\n        }\n        // Create new user (password will be hashed by the User model pre-save hook)\n        const newUser = new _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n            name,\n            email,\n            password: password,\n            role: 'USER',\n            phone,\n            isActive: true,\n            createdAt: new Date(),\n            updatedAt: new Date(),\n            settings: {\n                notifications: {\n                    email: true,\n                    sms: false,\n                    marketing: false,\n                    reminders: true\n                },\n                appearance: {\n                    theme: 'system',\n                    fontSize: 'medium',\n                    reduceAnimations: false,\n                    highContrast: false\n                },\n                privacy: {\n                    profileVisibility: 'public',\n                    shareBookingHistory: false,\n                    shareContactInfo: false,\n                    allowDataCollection: true\n                }\n            }\n        });\n        await newUser.save();\n        logger.info('User registered successfully', {\n            userId: newUser._id,\n            email\n        });\n        // Send welcome email\n        try {\n            const emailSent = await (0,_lib_services_email__WEBPACK_IMPORTED_MODULE_4__.sendWelcomeEmail)(email, name);\n            if (emailSent) {\n                logger.info('Welcome email sent successfully', {\n                    email\n                });\n            } else {\n                logger.warn('Failed to send welcome email', {\n                    email\n                });\n            }\n        } catch (emailError) {\n            logger.error('Error sending welcome email', {\n                email,\n                error: emailError instanceof Error ? emailError.message : String(emailError)\n            });\n        // Continue with registration even if email fails\n        }\n        // Return success response\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: 'User registered successfully',\n            data: {\n                id: newUser._id,\n                name: newUser.name,\n                email: newUser.email,\n                role: newUser.role\n            }\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        logger.error('Error during registration', {\n            error: error instanceof Error ? error.message : String(error)\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUk5QixRQUFRdUIsR0FBRztnQkFDZnBDLE1BQU1hLFFBQVFiLElBQUk7Z0JBQ2xCQyxPQUFPWSxRQUFRWixLQUFLO2dCQUNwQmEsTUFBTUQsUUFBUUMsSUFBSTtZQUNwQjtRQUNGLEdBQ0E7WUFBRU4sUUFBUTtRQUFJO0lBRWxCLEVBQUUsT0FBT0QsT0FBTztRQUNkWCxPQUFPVyxLQUFLLENBQUMsNkJBQTZCO1lBQ3hDQSxPQUFPQSxpQkFBaUJnQyxRQUFRaEMsTUFBTWlDLE9BQU8sR0FBR0MsT0FBT2xDO1FBQ3pEO1FBQ0EsT0FBT2hCLHFEQUFZQSxDQUFDYSxJQUFJLENBQ3RCO1lBQ0VFLFNBQVM7WUFDVEMsT0FBTztRQUNULEdBQ0E7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvcGVyc29uYWwtd29ya3NwYWNlL2Npdml4L2FwcC9hcGkvYXV0aC9yZWdpc3Rlci9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IGNvbm5lY3REQiBmcm9tICdAL2xpYi9kYic7XG5pbXBvcnQgVXNlciBmcm9tICdAL21vZGVscy9Vc2VyJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlTG9nZ2VyIH0gZnJvbSAnQC9saWIvbG9nZ2VyJztcbmltcG9ydCB7IHNlbmRXZWxjb21lRW1haWwgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9lbWFpbCc7XG5cbmNvbnN0IGxvZ2dlciA9IGNyZWF0ZU5hbWVzcGFjZUxvZ2dlcignYXBpOmF1dGg6cmVnaXN0ZXInKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBsb2dnZXIuaW5mbygnUHJvY2Vzc2luZyByZWdpc3RyYXRpb24gcmVxdWVzdCcpO1xuICAgIFxuICAgIGF3YWl0IGNvbm5lY3REQigpO1xuICAgIFxuICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBwaG9uZSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRcbiAgICBpZiAoIW5hbWUgfHwgIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgbG9nZ2VyLndhcm4oJ1JlZ2lzdHJhdGlvbiBhdHRlbXB0IHdpdGggbWlzc2luZyByZXF1aXJlZCBmaWVsZHMnKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdOYW1lLCBlbWFpbCwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiBlbWFpbCBpcyBhbHJlYWR5IGluIHVzZVxuICAgIGxvZ2dlci5kZWJ1ZygnQ2hlY2tpbmcgaWYgZW1haWwgZXhpc3RzJywgeyBlbWFpbCB9KTtcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICBsb2dnZXIud2FybignUmVnaXN0cmF0aW9uIGF0dGVtcHQgd2l0aCBleGlzdGluZyBlbWFpbCcsIHsgZW1haWwgfSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRW1haWwgaXMgYWxyZWFkeSBpbiB1c2UnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgcGFzc3dvcmQgc3RyZW5ndGhcbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCkge1xuICAgICAgbG9nZ2VyLndhcm4oJ1JlZ2lzdHJhdGlvbiBhdHRlbXB0IHdpdGggd2VhayBwYXNzd29yZCcsIHsgZW1haWwgfSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBDcmVhdGUgbmV3IHVzZXIgKHBhc3N3b3JkIHdpbGwgYmUgaGFzaGVkIGJ5IHRoZSBVc2VyIG1vZGVsIHByZS1zYXZlIGhvb2spXG4gICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIG5hbWUsXG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgIHJvbGU6ICdVU0VSJyxcbiAgICAgIHBob25lLFxuICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgc21zOiBmYWxzZSxcbiAgICAgICAgICBtYXJrZXRpbmc6IGZhbHNlLFxuICAgICAgICAgIHJlbWluZGVyczogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgYXBwZWFyYW5jZToge1xuICAgICAgICAgIHRoZW1lOiAnc3lzdGVtJyxcbiAgICAgICAgICBmb250U2l6ZTogJ21lZGl1bScsXG4gICAgICAgICAgcmVkdWNlQW5pbWF0aW9uczogZmFsc2UsXG4gICAgICAgICAgaGlnaENvbnRyYXN0OiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpdmFjeToge1xuICAgICAgICAgIHByb2ZpbGVWaXNpYmlsaXR5OiAncHVibGljJyxcbiAgICAgICAgICBzaGFyZUJvb2tpbmdIaXN0b3J5OiBmYWxzZSxcbiAgICAgICAgICBzaGFyZUNvbnRhY3RJbmZvOiBmYWxzZSxcbiAgICAgICAgICBhbGxvd0RhdGFDb2xsZWN0aW9uOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBcbiAgICBhd2FpdCBuZXdVc2VyLnNhdmUoKTtcbiAgICBcbiAgICBsb2dnZXIuaW5mbygnVXNlciByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseScsIHsgdXNlcklkOiBuZXdVc2VyLl9pZCwgZW1haWwgfSk7XG4gICAgXG4gICAgLy8gU2VuZCB3ZWxjb21lIGVtYWlsXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGVtYWlsU2VudCA9IGF3YWl0IHNlbmRXZWxjb21lRW1haWwoZW1haWwsIG5hbWUpO1xuICAgICAgaWYgKGVtYWlsU2VudCkge1xuICAgICAgICBsb2dnZXIuaW5mbygnV2VsY29tZSBlbWFpbCBzZW50IHN1Y2Nlc3NmdWxseScsIHsgZW1haWwgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIud2FybignRmFpbGVkIHRvIHNlbmQgd2VsY29tZSBlbWFpbCcsIHsgZW1haWwgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZW1haWxFcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBzZW5kaW5nIHdlbGNvbWUgZW1haWwnLCB7IFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgZXJyb3I6IGVtYWlsRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVtYWlsRXJyb3IubWVzc2FnZSA6IFN0cmluZyhlbWFpbEVycm9yKVxuICAgICAgfSk7XG4gICAgICAvLyBDb250aW51ZSB3aXRoIHJlZ2lzdHJhdGlvbiBldmVuIGlmIGVtYWlsIGZhaWxzXG4gICAgfVxuICAgIFxuICAgIC8vIFJldHVybiBzdWNjZXNzIHJlc3BvbnNlXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiAnVXNlciByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogbmV3VXNlci5faWQsXG4gICAgICAgICAgbmFtZTogbmV3VXNlci5uYW1lLFxuICAgICAgICAgIGVtYWlsOiBuZXdVc2VyLmVtYWlsLFxuICAgICAgICAgIHJvbGU6IG5ld1VzZXIucm9sZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogMjAxIH1cbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZHVyaW5nIHJlZ2lzdHJhdGlvbicsIHsgXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG4gICAgfSk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNvbm5lY3REQiIsIlVzZXIiLCJjcmVhdGVOYW1lc3BhY2VMb2dnZXIiLCJzZW5kV2VsY29tZUVtYWlsIiwibG9nZ2VyIiwiUE9TVCIsInJlcXVlc3QiLCJpbmZvIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwaG9uZSIsImpzb24iLCJ3YXJuIiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzIiwiZGVidWciLCJleGlzdGluZ1VzZXIiLCJmaW5kT25lIiwibGVuZ3RoIiwibmV3VXNlciIsInJvbGUiLCJpc0FjdGl2ZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJzZXR0aW5ncyIsIm5vdGlmaWNhdGlvbnMiLCJzbXMiLCJtYXJrZXRpbmciLCJyZW1pbmRlcnMiLCJhcHBlYXJhbmNlIiwidGhlbWUiLCJmb250U2l6ZSIsInJlZHVjZUFuaW1hdGlvbnMiLCJoaWdoQ29udHJhc3QiLCJwcml2YWN5IiwicHJvZmlsZVZpc2liaWxpdHkiLCJzaGFyZUJvb2tpbmdIaXN0b3J5Iiwic2hhcmVDb250YWN0SW5mbyIsImFsbG93RGF0YUNvbGxlY3Rpb24iLCJzYXZlIiwidXNlcklkIiwiX2lkIiwiZW1haWxTZW50IiwiZW1haWxFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsImRhdGEiLCJpZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/register/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   disconnectDB: () => (/* binding */ disconnectDB),\n/* harmony export */   getConnectionStatus: () => (/* binding */ getConnectionStatus)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */ \"(rsc)/./lib/logger.ts\");\n\n\n// ---\n// CIVIX AGENT MODE: Bulletproof MongoDB Connection for Next.js\n// 1. Always await connectDB() in every API/server function before DB ops!\n// 2. Write/seed data to make DB appear in Compass.\n// 3. .env.local: MONGODB_URI=mongodb://localhost:27017/civix_fInal_production\n// 4. Add logs before/after DB ops for visibility.\n// ---\nconst dbLogger = (0,_logger__WEBPACK_IMPORTED_MODULE_1__.createNamespaceLogger)('database');\n// Use env var or fallback to local MongoDB\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/civix_fInal_production';\n// Track connection status\nlet isConnected = false;\nlet connectionAttempts = 0;\nconst MAX_RECONNECT_ATTEMPTS = 5;\n// Debug: Show env and URI (sanitized)\nconsole.debug(`[DB] NODE_ENV: ${\"development\"}`);\nconsole.debug(`[DB] Raw MONGODB_URI: ${MONGODB_URI}`);\ntry {\n    const sanitizedUri = MONGODB_URI.replace(/(mongodb\\+srv:\\/\\/[^:]+:)([^@]+)(@.+)/, '$1*****$3');\n    dbLogger.info(`Using MongoDB URI: ${sanitizedUri}`);\n    console.debug(`[DB] Using MongoDB URI (sanitized): ${sanitizedUri}`);\n} catch (error) {\n    dbLogger.warn('Could not sanitize MongoDB URI for logging');\n    console.warn('[DB] Could not sanitize MongoDB URI for logging');\n}\nconst isServer = \"undefined\" === 'undefined';\nconsole.debug(`[DB] isServer: ${isServer}`);\nconst cached = isServer && global.mongoose ? global.mongoose : {\n    conn: null,\n    promise: null\n};\nif (isServer && !global.mongoose) {\n    global.mongoose = cached;\n    console.debug('[DB] Initialized global.mongoose cache');\n}\n// Setup listeners for connection events\nfunction setupMongooseListeners() {\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('connected', ()=>{\n        isConnected = true;\n        connectionAttempts = 0;\n        dbLogger.info('MongoDB connected successfully');\n        console.log('âœ… MongoDB connected successfully');\n        console.log(`[DB] Database: ${(mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).db?.databaseName || 'unknown'}`);\n        console.log(`[DB] Host: ${(mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).host}`);\n        console.log(`[DB] Port: ${(mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).port}`);\n    });\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('error', (error)=>{\n        isConnected = false;\n        dbLogger.error('MongoDB connection error', {\n            error: error.message\n        });\n        console.error('âŒ MongoDB connection error:', error.message);\n    });\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('disconnected', ()=>{\n        isConnected = false;\n        dbLogger.warn('MongoDB disconnected');\n        console.warn('âš ï¸ MongoDB disconnected');\n    });\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('reconnected', ()=>{\n        isConnected = true;\n        dbLogger.info('MongoDB reconnected');\n        console.log('ðŸ”„ MongoDB reconnected');\n    });\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('close', ()=>{\n        isConnected = false;\n        dbLogger.info('MongoDB connection closed');\n        console.log('ðŸ”’ MongoDB connection closed');\n    });\n}\nsetupMongooseListeners();\n// ---\n// The one function you must always await before any DB op!\nasync function connectDB() {\n    if (!isServer) {\n        console.error('[DB] Attempted to connect to DB on client side');\n        throw new Error('Database connection is only available on the server side');\n    }\n    if (cached.conn && isConnected) {\n        dbLogger.debug('Using existing database connection');\n        console.debug('[DB] Using existing database connection');\n        return cached.conn;\n    }\n    if (cached.promise) {\n        console.debug('[DB] Awaiting existing connection promise');\n        try {\n            cached.conn = await cached.promise;\n            return cached.conn;\n        } catch (error) {\n            cached.promise = null;\n            console.error('[DB] Error while awaiting connection promise:', error);\n            throw error;\n        }\n    }\n    // Connection options\n    const opts = {\n        bufferCommands: false,\n        maxPoolSize: 10,\n        serverSelectionTimeoutMS: 10000,\n        socketTimeoutMS: 45000,\n        connectTimeoutMS: 10000,\n        retryWrites: true,\n        retryReads: true\n    };\n    dbLogger.info('Connecting to MongoDB...');\n    console.log('[DB] MongoDB connection attempt - check if MongoDB is running locally');\n    console.debug(`[DB] Connection options: ${JSON.stringify(opts)}`);\n    const mongoUri = MONGODB_URI;\n    console.debug(`[DB] Connecting with URI: ${mongoUri.replace(/(mongodb\\+srv:\\/\\/[^:]+:)([^@]+)(@.+)/, '$1*****$3')}`);\n    cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(mongoUri, opts).then((mongooseInstance)=>{\n        dbLogger.info('Successfully connected to MongoDB');\n        console.log('âœ… MongoDB connected successfully');\n        console.log(`[DB] Database: ${mongooseInstance.connection.db?.databaseName || 'unknown'}`);\n        console.log(`[DB] Host: ${mongooseInstance.connection.host}`);\n        console.log(`[DB] Port: ${mongooseInstance.connection.port}`);\n        return mongooseInstance;\n    }).catch((error)=>{\n        connectionAttempts++;\n        console.error(`âŒ MongoDB connection error (attempt ${connectionAttempts}/${MAX_RECONNECT_ATTEMPTS}):`, error.message);\n        dbLogger.error('MongoDB connection error', {\n            error: error.message,\n            attempt: connectionAttempts,\n            maxAttempts: MAX_RECONNECT_ATTEMPTS,\n            stack:  true ? error.stack : 0\n        });\n        cached.promise = null;\n        // Helpful error hints\n        if (error.message.includes('ECONNREFUSED')) {\n            console.error('ðŸ’¡ MongoDB is not running. Please start MongoDB:');\n            console.error('   â€¢ Windows: Start MongoDB service or run mongod');\n            console.error('   â€¢ macOS: brew services start mongodb-community');\n            console.error('   â€¢ Linux: sudo systemctl start mongod');\n        } else if (error.message.includes('ENOTFOUND')) {\n            console.error('ðŸ’¡ Cannot resolve MongoDB host. Check your MONGODB_URI');\n        } else if (error.message.includes('Authentication failed')) {\n            console.error('ðŸ’¡ Authentication failed. Check your MongoDB credentials');\n        }\n        throw error;\n    });\n    try {\n        cached.conn = await cached.promise;\n        console.debug('[DB] Database connection established and cached');\n        return cached.conn;\n    } catch (error) {\n        cached.promise = null;\n        console.error('[DB] Error while awaiting connection promise:', error);\n        throw error;\n    }\n}\n// ---\n// Utility: Get connection status (for debugging/monitoring)\nfunction getConnectionStatus() {\n    return {\n        isConnected,\n        connectionAttempts,\n        databaseName: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).db?.databaseName,\n        host: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).host,\n        port: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).port,\n        readyState: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState\n    };\n}\n// Utility: Disconnect (for tests/dev)\nasync function disconnectDB() {\n    if (isConnected) {\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.close();\n        cached.conn = null;\n        cached.promise = null;\n        isConnected = false;\n        console.log('ðŸ”’ MongoDB connection closed');\n    }\n}\n// ---\n// Always: await connectDB() before any DB operation in your API/server code!\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsTUFBTTtBQUNOLDREQUE0RDtBQUNyRCxTQUFTc0M7SUFDZCxPQUFPO1FBQ0w5QztRQUNBQztRQUNBbUIsY0FBYzFCLDREQUFtQixDQUFDeUIsRUFBRSxFQUFFQztRQUN0Q0MsTUFBTTNCLDREQUFtQixDQUFDMkIsSUFBSTtRQUM5QkMsTUFBTTVCLDREQUFtQixDQUFDNEIsSUFBSTtRQUM5QnlCLFlBQVlyRCw0REFBbUIsQ0FBQ3FELFVBQVU7SUFDNUM7QUFDRjtBQUVBLHNDQUFzQztBQUMvQixlQUFlQztJQUNwQixJQUFJaEQsYUFBYTtRQUNmLE1BQU1OLDBEQUFtQixDQUFDdUQsS0FBSztRQUMvQnRDLE9BQU9FLElBQUksR0FBRztRQUNkRixPQUFPRyxPQUFPLEdBQUc7UUFDakJkLGNBQWM7UUFDZEcsUUFBUWUsR0FBRyxDQUFDO0lBQ2Q7QUFDRjtBQUVBLE1BQU07QUFDTiw2RUFBNkU7QUFDN0UsaUVBQWVNLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvcGVyc29uYWwtd29ya3NwYWNlL2Npdml4L2xpYi9kYi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlTG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuXG4vLyAtLS1cbi8vIENJVklYIEFHRU5UIE1PREU6IEJ1bGxldHByb29mIE1vbmdvREIgQ29ubmVjdGlvbiBmb3IgTmV4dC5qc1xuLy8gMS4gQWx3YXlzIGF3YWl0IGNvbm5lY3REQigpIGluIGV2ZXJ5IEFQSS9zZXJ2ZXIgZnVuY3Rpb24gYmVmb3JlIERCIG9wcyFcbi8vIDIuIFdyaXRlL3NlZWQgZGF0YSB0byBtYWtlIERCIGFwcGVhciBpbiBDb21wYXNzLlxuLy8gMy4gLmVudi5sb2NhbDogTU9OR09EQl9VUkk9bW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9jaXZpeF9mSW5hbF9wcm9kdWN0aW9uXG4vLyA0LiBBZGQgbG9ncyBiZWZvcmUvYWZ0ZXIgREIgb3BzIGZvciB2aXNpYmlsaXR5LlxuLy8gLS0tXG5cbmNvbnN0IGRiTG9nZ2VyID0gY3JlYXRlTmFtZXNwYWNlTG9nZ2VyKCdkYXRhYmFzZScpO1xuXG4vLyBVc2UgZW52IHZhciBvciBmYWxsYmFjayB0byBsb2NhbCBNb25nb0RCXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2Npdml4X2ZJbmFsX3Byb2R1Y3Rpb24nO1xuXG4vLyBUcmFjayBjb25uZWN0aW9uIHN0YXR1c1xubGV0IGlzQ29ubmVjdGVkID0gZmFsc2U7XG5sZXQgY29ubmVjdGlvbkF0dGVtcHRzID0gMDtcbmNvbnN0IE1BWF9SRUNPTk5FQ1RfQVRURU1QVFMgPSA1O1xuXG4vLyBEZWJ1ZzogU2hvdyBlbnYgYW5kIFVSSSAoc2FuaXRpemVkKVxuY29uc29sZS5kZWJ1ZyhgW0RCXSBOT0RFX0VOVjogJHtwcm9jZXNzLmVudi5OT0RFX0VOVn1gKTtcbmNvbnNvbGUuZGVidWcoYFtEQl0gUmF3IE1PTkdPREJfVVJJOiAke01PTkdPREJfVVJJfWApO1xudHJ5IHtcbiAgY29uc3Qgc2FuaXRpemVkVXJpID0gTU9OR09EQl9VUkkucmVwbGFjZShcbiAgICAvKG1vbmdvZGJcXCtzcnY6XFwvXFwvW146XSs6KShbXkBdKykoQC4rKS8sXG4gICAgJyQxKioqKiokMydcbiAgKTtcbiAgZGJMb2dnZXIuaW5mbyhgVXNpbmcgTW9uZ29EQiBVUkk6ICR7c2FuaXRpemVkVXJpfWApO1xuICBjb25zb2xlLmRlYnVnKGBbREJdIFVzaW5nIE1vbmdvREIgVVJJIChzYW5pdGl6ZWQpOiAke3Nhbml0aXplZFVyaX1gKTtcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGRiTG9nZ2VyLndhcm4oJ0NvdWxkIG5vdCBzYW5pdGl6ZSBNb25nb0RCIFVSSSBmb3IgbG9nZ2luZycpO1xuICBjb25zb2xlLndhcm4oJ1tEQl0gQ291bGQgbm90IHNhbml0aXplIE1vbmdvREIgVVJJIGZvciBsb2dnaW5nJyk7XG59XG5cbi8vIENhY2hlIGNvbm5lY3Rpb24gaW4gZ2xvYmFsIChzZXJ2ZXIgb25seSlcbmludGVyZmFjZSBDYWNoZWRDb25uZWN0aW9uIHtcbiAgY29ubjogdHlwZW9mIG1vbmdvb3NlIHwgbnVsbDtcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbDtcbn1cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgbW9uZ29vc2U6IENhY2hlZENvbm5lY3Rpb24gfCB1bmRlZmluZWQ7XG59XG5jb25zdCBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnO1xuY29uc29sZS5kZWJ1ZyhgW0RCXSBpc1NlcnZlcjogJHtpc1NlcnZlcn1gKTtcbmNvbnN0IGNhY2hlZDogQ2FjaGVkQ29ubmVjdGlvbiA9IGlzU2VydmVyICYmIGdsb2JhbC5tb25nb29zZSA/IGdsb2JhbC5tb25nb29zZSA6IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xuaWYgKGlzU2VydmVyICYmICFnbG9iYWwubW9uZ29vc2UpIHtcbiAgZ2xvYmFsLm1vbmdvb3NlID0gY2FjaGVkO1xuICBjb25zb2xlLmRlYnVnKCdbREJdIEluaXRpYWxpemVkIGdsb2JhbC5tb25nb29zZSBjYWNoZScpO1xufVxuXG4vLyBTZXR1cCBsaXN0ZW5lcnMgZm9yIGNvbm5lY3Rpb24gZXZlbnRzXG5mdW5jdGlvbiBzZXR1cE1vbmdvb3NlTGlzdGVuZXJzKCkge1xuICBtb25nb29zZS5jb25uZWN0aW9uLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgIGNvbm5lY3Rpb25BdHRlbXB0cyA9IDA7XG4gICAgZGJMb2dnZXIuaW5mbygnTW9uZ29EQiBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgY29uc29sZS5sb2coJ+KchSBNb25nb0RCIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHknKTtcbiAgICBjb25zb2xlLmxvZyhgW0RCXSBEYXRhYmFzZTogJHttb25nb29zZS5jb25uZWN0aW9uLmRiPy5kYXRhYmFzZU5hbWUgfHwgJ3Vua25vd24nfWApO1xuICAgIGNvbnNvbGUubG9nKGBbREJdIEhvc3Q6ICR7bW9uZ29vc2UuY29ubmVjdGlvbi5ob3N0fWApO1xuICAgIGNvbnNvbGUubG9nKGBbREJdIFBvcnQ6ICR7bW9uZ29vc2UuY29ubmVjdGlvbi5wb3J0fWApO1xuICB9KTtcbiAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIGRiTG9nZ2VyLmVycm9yKCdNb25nb0RCIGNvbm5lY3Rpb24gZXJyb3InLCB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNb25nb0RCIGNvbm5lY3Rpb24gZXJyb3I6JywgZXJyb3IubWVzc2FnZSk7XG4gIH0pO1xuICBtb25nb29zZS5jb25uZWN0aW9uLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICBkYkxvZ2dlci53YXJuKCdNb25nb0RCIGRpc2Nvbm5lY3RlZCcpO1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIE1vbmdvREIgZGlzY29ubmVjdGVkJyk7XG4gIH0pO1xuICBtb25nb29zZS5jb25uZWN0aW9uLm9uKCdyZWNvbm5lY3RlZCcsICgpID0+IHtcbiAgICBpc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgZGJMb2dnZXIuaW5mbygnTW9uZ29EQiByZWNvbm5lY3RlZCcpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIE1vbmdvREIgcmVjb25uZWN0ZWQnKTtcbiAgfSk7XG4gIG1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgIGlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgZGJMb2dnZXIuaW5mbygnTW9uZ29EQiBjb25uZWN0aW9uIGNsb3NlZCcpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SSIE1vbmdvREIgY29ubmVjdGlvbiBjbG9zZWQnKTtcbiAgfSk7XG59XG5zZXR1cE1vbmdvb3NlTGlzdGVuZXJzKCk7XG5cbi8vIC0tLVxuLy8gVGhlIG9uZSBmdW5jdGlvbiB5b3UgbXVzdCBhbHdheXMgYXdhaXQgYmVmb3JlIGFueSBEQiBvcCFcbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3REQigpIHtcbiAgaWYgKCFpc1NlcnZlcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tEQl0gQXR0ZW1wdGVkIHRvIGNvbm5lY3QgdG8gREIgb24gY2xpZW50IHNpZGUnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gaXMgb25seSBhdmFpbGFibGUgb24gdGhlIHNlcnZlciBzaWRlJyk7XG4gIH1cbiAgaWYgKGNhY2hlZC5jb25uICYmIGlzQ29ubmVjdGVkKSB7XG4gICAgZGJMb2dnZXIuZGVidWcoJ1VzaW5nIGV4aXN0aW5nIGRhdGFiYXNlIGNvbm5lY3Rpb24nKTtcbiAgICBjb25zb2xlLmRlYnVnKCdbREJdIFVzaW5nIGV4aXN0aW5nIGRhdGFiYXNlIGNvbm5lY3Rpb24nKTtcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XG4gIH1cbiAgaWYgKGNhY2hlZC5wcm9taXNlKSB7XG4gICAgY29uc29sZS5kZWJ1ZygnW0RCXSBBd2FpdGluZyBleGlzdGluZyBjb25uZWN0aW9uIHByb21pc2UnKTtcbiAgICB0cnkge1xuICAgICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcbiAgICAgIHJldHVybiBjYWNoZWQuY29ubjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xuICAgICAgY29uc29sZS5lcnJvcignW0RCXSBFcnJvciB3aGlsZSBhd2FpdGluZyBjb25uZWN0aW9uIHByb21pc2U6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29ubmVjdGlvbiBvcHRpb25zXG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxuICAgIG1heFBvb2xTaXplOiAxMCxcbiAgICBzZXJ2ZXJTZWxlY3Rpb25UaW1lb3V0TVM6IDEwMDAwLFxuICAgIHNvY2tldFRpbWVvdXRNUzogNDUwMDAsXG4gICAgY29ubmVjdFRpbWVvdXRNUzogMTAwMDAsXG4gICAgcmV0cnlXcml0ZXM6IHRydWUsXG4gICAgcmV0cnlSZWFkczogdHJ1ZSxcbiAgfTtcblxuICBkYkxvZ2dlci5pbmZvKCdDb25uZWN0aW5nIHRvIE1vbmdvREIuLi4nKTtcbiAgY29uc29sZS5sb2coJ1tEQl0gTW9uZ29EQiBjb25uZWN0aW9uIGF0dGVtcHQgLSBjaGVjayBpZiBNb25nb0RCIGlzIHJ1bm5pbmcgbG9jYWxseScpO1xuICBjb25zb2xlLmRlYnVnKGBbREJdIENvbm5lY3Rpb24gb3B0aW9uczogJHtKU09OLnN0cmluZ2lmeShvcHRzKX1gKTtcbiAgY29uc3QgbW9uZ29VcmkgPSBNT05HT0RCX1VSSSBhcyBzdHJpbmc7XG4gIGNvbnNvbGUuZGVidWcoYFtEQl0gQ29ubmVjdGluZyB3aXRoIFVSSTogJHttb25nb1VyaS5yZXBsYWNlKC8obW9uZ29kYlxcK3NydjpcXC9cXC9bXjpdKzopKFteQF0rKShALispLywgJyQxKioqKiokMycpfWApO1xuXG4gIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChtb25nb1VyaSwgb3B0cykudGhlbigobW9uZ29vc2VJbnN0YW5jZTogdHlwZW9mIG1vbmdvb3NlKSA9PiB7XG4gICAgZGJMb2dnZXIuaW5mbygnU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byBNb25nb0RCJyk7XG4gICAgY29uc29sZS5sb2coJ+KchSBNb25nb0RCIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHknKTtcbiAgICBjb25zb2xlLmxvZyhgW0RCXSBEYXRhYmFzZTogJHttb25nb29zZUluc3RhbmNlLmNvbm5lY3Rpb24uZGI/LmRhdGFiYXNlTmFtZSB8fCAndW5rbm93bid9YCk7XG4gICAgY29uc29sZS5sb2coYFtEQl0gSG9zdDogJHttb25nb29zZUluc3RhbmNlLmNvbm5lY3Rpb24uaG9zdH1gKTtcbiAgICBjb25zb2xlLmxvZyhgW0RCXSBQb3J0OiAke21vbmdvb3NlSW5zdGFuY2UuY29ubmVjdGlvbi5wb3J0fWApO1xuICAgIHJldHVybiBtb25nb29zZUluc3RhbmNlO1xuICB9KS5jYXRjaCgoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgY29ubmVjdGlvbkF0dGVtcHRzKys7XG4gICAgY29uc29sZS5lcnJvcihg4p2MIE1vbmdvREIgY29ubmVjdGlvbiBlcnJvciAoYXR0ZW1wdCAke2Nvbm5lY3Rpb25BdHRlbXB0c30vJHtNQVhfUkVDT05ORUNUX0FUVEVNUFRTfSk6YCwgZXJyb3IubWVzc2FnZSk7XG4gICAgZGJMb2dnZXIuZXJyb3IoJ01vbmdvREIgY29ubmVjdGlvbiBlcnJvcicsIHtcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgYXR0ZW1wdDogY29ubmVjdGlvbkF0dGVtcHRzLFxuICAgICAgbWF4QXR0ZW1wdHM6IE1BWF9SRUNPTk5FQ1RfQVRURU1QVFMsXG4gICAgICBzdGFjazogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZFxuICAgIH0pO1xuICAgIGNhY2hlZC5wcm9taXNlID0gbnVsbDtcbiAgICAvLyBIZWxwZnVsIGVycm9yIGhpbnRzXG4gICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0VDT05OUkVGVVNFRCcpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5KhIE1vbmdvREIgaXMgbm90IHJ1bm5pbmcuIFBsZWFzZSBzdGFydCBNb25nb0RCOicpO1xuICAgICAgY29uc29sZS5lcnJvcignICAg4oCiIFdpbmRvd3M6IFN0YXJ0IE1vbmdvREIgc2VydmljZSBvciBydW4gbW9uZ29kJyk7XG4gICAgICBjb25zb2xlLmVycm9yKCcgICDigKIgbWFjT1M6IGJyZXcgc2VydmljZXMgc3RhcnQgbW9uZ29kYi1jb21tdW5pdHknKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyAgIOKAoiBMaW51eDogc3VkbyBzeXN0ZW1jdGwgc3RhcnQgbW9uZ29kJyk7XG4gICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdFTk9URk9VTkQnKSkge1xuICAgICAgY29uc29sZS5lcnJvcign8J+SoSBDYW5ub3QgcmVzb2x2ZSBNb25nb0RCIGhvc3QuIENoZWNrIHlvdXIgTU9OR09EQl9VUkknKTtcbiAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5KhIEF1dGhlbnRpY2F0aW9uIGZhaWxlZC4gQ2hlY2sgeW91ciBNb25nb0RCIGNyZWRlbnRpYWxzJyk7XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9KTtcblxuICB0cnkge1xuICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XG4gICAgY29uc29sZS5kZWJ1ZygnW0RCXSBEYXRhYmFzZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkIGFuZCBjYWNoZWQnKTtcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tEQl0gRXJyb3Igd2hpbGUgYXdhaXRpbmcgY29ubmVjdGlvbiBwcm9taXNlOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyAtLS1cbi8vIFV0aWxpdHk6IEdldCBjb25uZWN0aW9uIHN0YXR1cyAoZm9yIGRlYnVnZ2luZy9tb25pdG9yaW5nKVxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbm5lY3Rpb25TdGF0dXMoKSB7XG4gIHJldHVybiB7XG4gICAgaXNDb25uZWN0ZWQsXG4gICAgY29ubmVjdGlvbkF0dGVtcHRzLFxuICAgIGRhdGFiYXNlTmFtZTogbW9uZ29vc2UuY29ubmVjdGlvbi5kYj8uZGF0YWJhc2VOYW1lLFxuICAgIGhvc3Q6IG1vbmdvb3NlLmNvbm5lY3Rpb24uaG9zdCxcbiAgICBwb3J0OiBtb25nb29zZS5jb25uZWN0aW9uLnBvcnQsXG4gICAgcmVhZHlTdGF0ZTogbW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlXG4gIH07XG59XG5cbi8vIFV0aWxpdHk6IERpc2Nvbm5lY3QgKGZvciB0ZXN0cy9kZXYpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGlzY29ubmVjdERCKCkge1xuICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICBhd2FpdCBtb25nb29zZS5jb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgY2FjaGVkLmNvbm4gPSBudWxsO1xuICAgIGNhY2hlZC5wcm9taXNlID0gbnVsbDtcbiAgICBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIGNvbnNvbGUubG9nKCfwn5SSIE1vbmdvREIgY29ubmVjdGlvbiBjbG9zZWQnKTtcbiAgfVxufVxuXG4vLyAtLS1cbi8vIEFsd2F5czogYXdhaXQgY29ubmVjdERCKCkgYmVmb3JlIGFueSBEQiBvcGVyYXRpb24gaW4geW91ciBBUEkvc2VydmVyIGNvZGUhXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0REI7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjcmVhdGVOYW1lc3BhY2VMb2dnZXIiLCJkYkxvZ2dlciIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsImlzQ29ubmVjdGVkIiwiY29ubmVjdGlvbkF0dGVtcHRzIiwiTUFYX1JFQ09OTkVDVF9BVFRFTVBUUyIsImNvbnNvbGUiLCJkZWJ1ZyIsInNhbml0aXplZFVyaSIsInJlcGxhY2UiLCJpbmZvIiwiZXJyb3IiLCJ3YXJuIiwiaXNTZXJ2ZXIiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsInNldHVwTW9uZ29vc2VMaXN0ZW5lcnMiLCJjb25uZWN0aW9uIiwib24iLCJsb2ciLCJkYiIsImRhdGFiYXNlTmFtZSIsImhvc3QiLCJwb3J0IiwibWVzc2FnZSIsImNvbm5lY3REQiIsIkVycm9yIiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwibWF4UG9vbFNpemUiLCJzZXJ2ZXJTZWxlY3Rpb25UaW1lb3V0TVMiLCJzb2NrZXRUaW1lb3V0TVMiLCJjb25uZWN0VGltZW91dE1TIiwicmV0cnlXcml0ZXMiLCJyZXRyeVJlYWRzIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vbmdvVXJpIiwiY29ubmVjdCIsInRoZW4iLCJtb25nb29zZUluc3RhbmNlIiwiY2F0Y2giLCJhdHRlbXB0IiwibWF4QXR0ZW1wdHMiLCJzdGFjayIsInVuZGVmaW5lZCIsImluY2x1ZGVzIiwiZ2V0Q29ubmVjdGlvblN0YXR1cyIsInJlYWR5U3RhdGUiLCJkaXNjb25uZWN0REIiLCJjbG9zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/logger.ts":
/*!***********************!*\
  !*** ./lib/logger.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNamespaceLogger: () => (/* binding */ createNamespaceLogger),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   logger: () => (/* binding */ logger)\n/* harmony export */ });\n/**\n * Logger utility for the application\n */ /**\n * Simple logger for the application\n * In a production environment, this would be replaced with a more robust solution\n * like winston, pino, or other logging libraries\n */ class Logger {\n    /**\n   * Log a debug message\n   * @param message - The message to log\n   * @param payload - Optional additional data to log\n   */ debug(message, payload) {\n        this.log('debug', {\n            message,\n            ...payload\n        });\n    }\n    /**\n   * Log an informational message\n   * @param message - The message to log\n   * @param payload - Optional additional data to log\n   */ info(message, payload) {\n        this.log('info', {\n            message,\n            ...payload\n        });\n    }\n    /**\n   * Log a warning message\n   * @param message - The message to log\n   * @param payload - Optional additional data to log\n   */ warn(message, payload) {\n        this.log('warn', {\n            message,\n            ...payload\n        });\n    }\n    /**\n   * Log an error message\n   * @param message - The message to log\n   * @param payload - Optional additional data to log\n   */ error(message, payload) {\n        this.log('error', {\n            message,\n            ...payload\n        });\n    }\n    /**\n   * Log a message with a specific log level\n   * @param level - The log level\n   * @param payload - The data to log\n   */ log(level, payload) {\n        // Skip logging in test environment\n        if (this.isTest) {\n            return;\n        }\n        // In development, pretty print the log\n        if (this.isDevelopment) {\n            const timestamp = new Date().toISOString();\n            const { message, ...data } = payload;\n            switch(level){\n                case 'debug':\n                    // eslint-disable-next-line no-console\n                    console.debug(`[${timestamp}] ðŸ› DEBUG: ${message}`, Object.keys(data).length ? data : '');\n                    break;\n                case 'info':\n                    // eslint-disable-next-line no-console\n                    console.info(`[${timestamp}] â„¹ï¸ INFO: ${message}`, Object.keys(data).length ? data : '');\n                    break;\n                case 'warn':\n                    // eslint-disable-next-line no-console\n                    console.warn(`[${timestamp}] âš ï¸ WARN: ${message}`, Object.keys(data).length ? data : '');\n                    break;\n                case 'error':\n                    // eslint-disable-next-line no-console\n                    console.error(`[${timestamp}] ðŸ”´ ERROR: ${message}`, Object.keys(data).length ? data : '');\n                    break;\n            }\n            return;\n        }\n        // In production, use structured logging (JSON format)\n        const logData = {\n            timestamp: new Date().toISOString(),\n            level,\n            ...payload\n        };\n        // In production we would typically use a more robust logging solution\n        // This is a simple fallback\n        switch(level){\n            case 'debug':\n                // eslint-disable-next-line no-console\n                console.debug(JSON.stringify(logData));\n                break;\n            case 'info':\n                // eslint-disable-next-line no-console\n                console.info(JSON.stringify(logData));\n                break;\n            case 'warn':\n                // eslint-disable-next-line no-console\n                console.warn(JSON.stringify(logData));\n                break;\n            case 'error':\n                // eslint-disable-next-line no-console\n                console.error(JSON.stringify(logData));\n                break;\n        }\n    }\n    constructor(){\n        this.isDevelopment = \"development\" === 'development';\n        this.isTest = \"development\" === 'test';\n    }\n}\n// Create a singleton logger instance\nconst logger = new Logger();\n/**\n * Create a namespace logger that includes a namespace in all logs\n * @param namespace - The namespace to include in logs\n */ const createNamespaceLogger = (namespace)=>{\n    return {\n        debug: (message, payload)=>logger.debug(message, {\n                namespace,\n                ...payload\n            }),\n        info: (message, payload)=>logger.info(message, {\n                namespace,\n                ...payload\n            }),\n        warn: (message, payload)=>logger.warn(message, {\n                namespace,\n                ...payload\n            }),\n        error: (message, payload)=>logger.error(message, {\n                namespace,\n                ...payload\n            })\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0JBQXlCOztBQXVHNUM7QUFFQSxxQ0FBcUM7QUFDOUIsTUFBTUMsU0FBUyxJQUFJdkIsU0FBUztBQUVuQzs7O0NBR0MsR0FDTSxNQUFNd0Isd0JBQXdCLENBQUNDO0lBQ3BDLE9BQU87UUFDTHhCLE9BQU8sQ0FBQ0MsU0FBaUJDLFVBQXNDb0IsT0FBT3RCLEtBQUssQ0FBQ0MsU0FBUztnQkFBRXVCO2dCQUFXLEdBQUd0QixPQUFPO1lBQUM7UUFDN0dFLE1BQU0sQ0FBQ0gsU0FBaUJDLFVBQXNDb0IsT0FBT2xCLElBQUksQ0FBQ0gsU0FBUztnQkFBRXVCO2dCQUFXLEdBQUd0QixPQUFPO1lBQUM7UUFDM0dHLE1BQU0sQ0FBQ0osU0FBaUJDLFVBQXNDb0IsT0FBT2pCLElBQUksQ0FBQ0osU0FBUztnQkFBRXVCO2dCQUFXLEdBQUd0QixPQUFPO1lBQUM7UUFDM0dJLE9BQU8sQ0FBQ0wsU0FBaUJDLFVBQXNDb0IsT0FBT2hCLEtBQUssQ0FBQ0wsU0FBUztnQkFBRXVCO2dCQUFXLEdBQUd0QixPQUFPO1lBQUM7SUFDL0c7QUFDRixFQUFFO0FBRUYsaUVBQWVvQixNQUFNQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9vay9EZXNrdG9wL3BlcnNvbmFsLXdvcmtzcGFjZS9jaXZpeC9saWIvbG9nZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTG9nZ2VyIHV0aWxpdHkgZm9yIHRoZSBhcHBsaWNhdGlvblxuICovXG5cbnR5cGUgTG9nTGV2ZWwgPSAnZGVidWcnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJztcblxuaW50ZXJmYWNlIExvZ1BheWxvYWQge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XG59XG5cbi8qKlxuICogU2ltcGxlIGxvZ2dlciBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gKiBJbiBhIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQsIHRoaXMgd291bGQgYmUgcmVwbGFjZWQgd2l0aCBhIG1vcmUgcm9idXN0IHNvbHV0aW9uXG4gKiBsaWtlIHdpbnN0b24sIHBpbm8sIG9yIG90aGVyIGxvZ2dpbmcgbGlicmFyaWVzXG4gKi9cbmNsYXNzIExvZ2dlciB7XG4gIHByaXZhdGUgaXNEZXZlbG9wbWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xuICBwcml2YXRlIGlzVGVzdCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCc7XG5cbiAgLyoqXG4gICAqIExvZyBhIGRlYnVnIG1lc3NhZ2VcbiAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBsb2dcbiAgICogQHBhcmFtIHBheWxvYWQgLSBPcHRpb25hbCBhZGRpdGlvbmFsIGRhdGEgdG8gbG9nXG4gICAqL1xuICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIHBheWxvYWQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IHZvaWQge1xuICAgIHRoaXMubG9nKCdkZWJ1ZycsIHsgbWVzc2FnZSwgLi4ucGF5bG9hZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgYW4gaW5mb3JtYXRpb25hbCBtZXNzYWdlXG4gICAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gbG9nXG4gICAqIEBwYXJhbSBwYXlsb2FkIC0gT3B0aW9uYWwgYWRkaXRpb25hbCBkYXRhIHRvIGxvZ1xuICAgKi9cbiAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIHBheWxvYWQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IHZvaWQge1xuICAgIHRoaXMubG9nKCdpbmZvJywgeyBtZXNzYWdlLCAuLi5wYXlsb2FkIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZyBhIHdhcm5pbmcgbWVzc2FnZVxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIGxvZ1xuICAgKiBAcGFyYW0gcGF5bG9hZCAtIE9wdGlvbmFsIGFkZGl0aW9uYWwgZGF0YSB0byBsb2dcbiAgICovXG4gIHdhcm4obWVzc2FnZTogc3RyaW5nLCBwYXlsb2FkPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB2b2lkIHtcbiAgICB0aGlzLmxvZygnd2FybicsIHsgbWVzc2FnZSwgLi4ucGF5bG9hZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgYW4gZXJyb3IgbWVzc2FnZVxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIGxvZ1xuICAgKiBAcGFyYW0gcGF5bG9hZCAtIE9wdGlvbmFsIGFkZGl0aW9uYWwgZGF0YSB0byBsb2dcbiAgICovXG4gIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgcGF5bG9hZD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogdm9pZCB7XG4gICAgdGhpcy5sb2coJ2Vycm9yJywgeyBtZXNzYWdlLCAuLi5wYXlsb2FkIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZyBhIG1lc3NhZ2Ugd2l0aCBhIHNwZWNpZmljIGxvZyBsZXZlbFxuICAgKiBAcGFyYW0gbGV2ZWwgLSBUaGUgbG9nIGxldmVsXG4gICAqIEBwYXJhbSBwYXlsb2FkIC0gVGhlIGRhdGEgdG8gbG9nXG4gICAqL1xuICBwcml2YXRlIGxvZyhsZXZlbDogTG9nTGV2ZWwsIHBheWxvYWQ6IExvZ1BheWxvYWQpOiB2b2lkIHtcbiAgICAvLyBTa2lwIGxvZ2dpbmcgaW4gdGVzdCBlbnZpcm9ubWVudFxuICAgIGlmICh0aGlzLmlzVGVzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluIGRldmVsb3BtZW50LCBwcmV0dHkgcHJpbnQgdGhlIGxvZ1xuICAgIGlmICh0aGlzLmlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZSwgLi4uZGF0YSB9ID0gcGF5bG9hZDtcbiAgICAgIFxuICAgICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgICBjYXNlICdkZWJ1Zyc6XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbJHt0aW1lc3RhbXB9XSDwn5CbIERFQlVHOiAke21lc3NhZ2V9YCwgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID8gZGF0YSA6ICcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLmluZm8oYFske3RpbWVzdGFtcH1dIOKEue+4jyBJTkZPOiAke21lc3NhZ2V9YCwgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID8gZGF0YSA6ICcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFske3RpbWVzdGFtcH1dIOKaoO+4jyBXQVJOOiAke21lc3NhZ2V9YCwgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID8gZGF0YSA6ICcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS5lcnJvcihgWyR7dGltZXN0YW1wfV0g8J+UtCBFUlJPUjogJHttZXNzYWdlfWAsIE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA/IGRhdGEgOiAnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSW4gcHJvZHVjdGlvbiwgdXNlIHN0cnVjdHVyZWQgbG9nZ2luZyAoSlNPTiBmb3JtYXQpXG4gICAgY29uc3QgbG9nRGF0YSA9IHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgbGV2ZWwsXG4gICAgICAuLi5wYXlsb2FkLFxuICAgIH07XG5cbiAgICAvLyBJbiBwcm9kdWN0aW9uIHdlIHdvdWxkIHR5cGljYWxseSB1c2UgYSBtb3JlIHJvYnVzdCBsb2dnaW5nIHNvbHV0aW9uXG4gICAgLy8gVGhpcyBpcyBhIHNpbXBsZSBmYWxsYmFja1xuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgJ2RlYnVnJzpcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhKU09OLnN0cmluZ2lmeShsb2dEYXRhKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUuaW5mbyhKU09OLnN0cmluZ2lmeShsb2dEYXRhKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUud2FybihKU09OLnN0cmluZ2lmeShsb2dEYXRhKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKEpTT04uc3RyaW5naWZ5KGxvZ0RhdGEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbi8vIENyZWF0ZSBhIHNpbmdsZXRvbiBsb2dnZXIgaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmFtZXNwYWNlIGxvZ2dlciB0aGF0IGluY2x1ZGVzIGEgbmFtZXNwYWNlIGluIGFsbCBsb2dzXG4gKiBAcGFyYW0gbmFtZXNwYWNlIC0gVGhlIG5hbWVzcGFjZSB0byBpbmNsdWRlIGluIGxvZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hbWVzcGFjZUxvZ2dlciA9IChuYW1lc3BhY2U6IHN0cmluZykgPT4ge1xuICByZXR1cm4ge1xuICAgIGRlYnVnOiAobWVzc2FnZTogc3RyaW5nLCBwYXlsb2FkPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IGxvZ2dlci5kZWJ1ZyhtZXNzYWdlLCB7IG5hbWVzcGFjZSwgLi4ucGF5bG9hZCB9KSxcbiAgICBpbmZvOiAobWVzc2FnZTogc3RyaW5nLCBwYXlsb2FkPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IGxvZ2dlci5pbmZvKG1lc3NhZ2UsIHsgbmFtZXNwYWNlLCAuLi5wYXlsb2FkIH0pLFxuICAgIHdhcm46IChtZXNzYWdlOiBzdHJpbmcsIHBheWxvYWQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gbG9nZ2VyLndhcm4obWVzc2FnZSwgeyBuYW1lc3BhY2UsIC4uLnBheWxvYWQgfSksXG4gICAgZXJyb3I6IChtZXNzYWdlOiBzdHJpbmcsIHBheWxvYWQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gbG9nZ2VyLmVycm9yKG1lc3NhZ2UsIHsgbmFtZXNwYWNlLCAuLi5wYXlsb2FkIH0pLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbG9nZ2VyOyAiXSwibmFtZXMiOlsiTG9nZ2VyIiwiZGVidWciLCJtZXNzYWdlIiwicGF5bG9hZCIsImxvZyIsImluZm8iLCJ3YXJuIiwiZXJyb3IiLCJsZXZlbCIsImlzVGVzdCIsImlzRGV2ZWxvcG1lbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJkYXRhIiwiY29uc29sZSIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJsb2dEYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2Nlc3MiLCJsb2dnZXIiLCJjcmVhdGVOYW1lc3BhY2VMb2dnZXIiLCJuYW1lc3BhY2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/logger.ts\n");

/***/ }),

/***/ "(rsc)/./lib/services/email.ts":
/*!*******************************!*\
  !*** ./lib/services/email.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendAgentNotificationEmail: () => (/* binding */ sendAgentNotificationEmail),\n/* harmony export */   sendBookingConfirmationEmail: () => (/* binding */ sendBookingConfirmationEmail),\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail),\n/* harmony export */   sendPasswordResetEmail: () => (/* binding */ sendPasswordResetEmail),\n/* harmony export */   sendWelcomeEmail: () => (/* binding */ sendWelcomeEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logger */ \"(rsc)/./lib/logger.ts\");\n\n\n// Create a reusable transporter object\nconst createTransporter = ()=>{\n    _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info('Creating email transporter');\n    // Check if SMTP credentials are available\n    const smtpUser = process.env.EMAIL_USER || process.env.SMTP_USER;\n    const smtpPass = process.env.EMAIL_PASS || process.env.SMTP_PASS;\n    if (!smtpUser || !smtpPass) {\n        _logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn('SMTP credentials not configured, using mock transporter');\n        // Return a mock transporter for development\n        return {\n            sendMail: async (options)=>{\n                _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info('ðŸ“§ Mock email sent', {\n                    to: options.to,\n                    subject: options.subject,\n                    message: 'Email would be sent in production with proper SMTP configuration'\n                });\n                return {\n                    messageId: 'mock-' + Date.now()\n                };\n            },\n            verify: async ()=>{\n                _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info('ðŸ“§ Mock SMTP verification successful');\n                return true;\n            }\n        };\n    }\n    return nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n        host: process.env.EMAIL_HOST || process.env.SMTP_HOST || 'smtp.gmail.com',\n        port: parseInt(process.env.EMAIL_PORT || process.env.SMTP_PORT || '587'),\n        secure: process.env.EMAIL_SECURE === 'true' || process.env.SMTP_SECURE === 'true',\n        auth: {\n            user: smtpUser,\n            pass: smtpPass\n        }\n    });\n};\n/**\n * Send an email\n * \n * @param options - Email options\n * @returns Promise with the result of sending the email\n */ const sendEmail = async (options)=>{\n    try {\n        const { to, subject, text, html, cc, bcc, attachments, from } = options;\n        _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(`Sending email to ${Array.isArray(to) ? to.join(', ') : to}`, {\n            subject\n        });\n        const transporter = createTransporter();\n        // Check if this is a mock transporter (no SMTP credentials)\n        if (typeof transporter.sendMail !== 'function') {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn('Email not sent - SMTP credentials not configured', {\n                to: Array.isArray(to) ? to.join(', ') : to,\n                subject\n            });\n            return true; // Return true to avoid breaking the flow\n        }\n        const mailOptions = {\n            from: from || process.env.EMAIL_FROM || 'noreply@example.com',\n            to,\n            subject,\n            text,\n            html,\n            cc,\n            bcc,\n            attachments\n        };\n        const info = await transporter.sendMail(mailOptions);\n        _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info('Email sent successfully', {\n            messageId: info.messageId\n        });\n        return true;\n    } catch (error) {\n        _logger__WEBPACK_IMPORTED_MODULE_1__.logger.error('Error sending email', {\n            error: error.message\n        });\n        return false;\n    }\n};\n/**\n * Send a booking confirmation email to a user\n */ const sendBookingConfirmationEmail = async (userEmail, userName, bookingDetails)=>{\n    const formattedDate = new Date(bookingDetails.date).toLocaleDateString('en-US', {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n    });\n    const formattedTime = new Date(bookingDetails.date).toLocaleTimeString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit'\n    });\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #eee; border-radius: 5px;\">\n      <h2 style=\"color: #2563eb;\">Your Booking is Confirmed!</h2>\n      <p>Hello ${userName},</p>\n      <p>Thank you for your booking. Here are your booking details:</p>\n      \n      <div style=\"background-color: #f9fafb; padding: 15px; border-radius: 5px; margin: 20px 0;\">\n        <p><strong>Service:</strong> ${bookingDetails.serviceName}</p>\n        <p><strong>Date:</strong> ${formattedDate}</p>\n        <p><strong>Time:</strong> ${formattedTime}</p>\n        <p><strong>Duration:</strong> ${bookingDetails.duration} minutes</p>\n        <p><strong>Price:</strong> $${bookingDetails.price.toFixed(2)}</p>\n        <p><strong>Status:</strong> ${bookingDetails.status.charAt(0).toUpperCase() + bookingDetails.status.slice(1)}</p>\n        ${bookingDetails.agentName ? `<p><strong>Agent:</strong> ${bookingDetails.agentName}</p>` : ''}\n        ${bookingDetails.notes ? `<p><strong>Notes:</strong> ${bookingDetails.notes}</p>` : ''}\n      </div>\n      \n      <p>If you need to modify or cancel your booking, please log in to your account or contact us directly.</p>\n      \n      <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;\">\n        <p style=\"font-size: 14px; color: #666;\">Thank you for choosing our services!</p>\n      </div>\n    </div>\n  `;\n    return sendEmail({\n        to: userEmail,\n        subject: `Booking Confirmation - #${bookingDetails._id}`,\n        html\n    });\n};\n/**\n * Send a booking notification email to an agent\n */ const sendAgentNotificationEmail = async (agentEmail, agentName, userName, bookingDetails)=>{\n    const formattedDate = new Date(bookingDetails.date).toLocaleDateString('en-US', {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n    });\n    const formattedTime = new Date(bookingDetails.date).toLocaleTimeString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit'\n    });\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #eee; border-radius: 5px;\">\n      <h2 style=\"color: #2563eb;\">New Booking Assigned</h2>\n      <p>Hello ${agentName},</p>\n      <p>A new booking has been assigned to you. Here are the details:</p>\n      \n      <div style=\"background-color: #f9fafb; padding: 15px; border-radius: 5px; margin: 20px 0;\">\n        <p><strong>Client:</strong> ${userName}</p>\n        <p><strong>Service:</strong> ${bookingDetails.serviceName}</p>\n        <p><strong>Date:</strong> ${formattedDate}</p>\n        <p><strong>Time:</strong> ${formattedTime}</p>\n        <p><strong>Duration:</strong> ${bookingDetails.duration} minutes</p>\n        ${bookingDetails.notes ? `<p><strong>Notes:</strong> ${bookingDetails.notes}</p>` : ''}\n      </div>\n      \n      <p>Please log in to your account to review the booking details and confirm your availability.</p>\n      \n      <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;\">\n        <p style=\"font-size: 14px; color: #666;\">Thank you for your service!</p>\n      </div>\n    </div>\n  `;\n    return sendEmail({\n        to: agentEmail,\n        subject: `New Booking Assigned - #${bookingDetails._id}`,\n        html\n    });\n};\n/**\n * Send a password reset email\n */ const sendPasswordResetEmail = async (userEmail, userName, resetToken, resetUrl)=>{\n    // Use the baseUrl from environment or fallback\n    const baseUrl = process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000';\n    const fullResetUrl = resetUrl || `${baseUrl}/reset-password/${resetToken}`;\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #eee; border-radius: 5px;\">\n      <h2 style=\"color: #2563eb;\">Reset Your Password</h2>\n      <p>Hello ${userName},</p>\n      <p>You requested a password reset. Click the button below to reset your password:</p>\n      \n      <div style=\"text-align: center; margin: 30px 0;\">\n        <a href=\"${fullResetUrl}\" style=\"background-color: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; display: inline-block; font-weight: bold;\">Reset Password</a>\n      </div>\n      \n      <p>If you didn't request this password reset, you can safely ignore this email.</p>\n      <p>The password reset link will expire in 1 hour.</p>\n      \n      <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;\">\n        <p style=\"font-size: 14px; color: #666;\">Thank you!</p>\n      </div>\n    </div>\n  `;\n    return sendEmail({\n        to: userEmail,\n        subject: \"Password Reset Request\",\n        html\n    });\n};\n/**\n * Send a welcome email to a new user\n */ const sendWelcomeEmail = async (userEmail, userName)=>{\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #eee; border-radius: 5px;\">\n      <h2 style=\"color: #2563eb;\">Welcome to Civix!</h2>\n      <p>Hello ${userName},</p>\n      <p>Thank you for signing up with Civix. We're excited to have you on board!</p>\n      \n      <p>With your new account, you can:</p>\n      <ul>\n        <li>Browse and book services</li>\n        <li>Track your bookings</li>\n        <li>Manage your profile</li>\n        <li>Get support when you need it</li>\n      </ul>\n      \n      <div style=\"text-align: center; margin: 30px 0;\">\n        <a href=\"${process.env.NEXT_PUBLIC_APP_URL}/services\" style=\"background-color: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; display: inline-block; font-weight: bold;\">Explore Services</a>\n      </div>\n      \n      <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;\">\n        <p style=\"font-size: 14px; color: #666;\">Thank you for choosing Civix!</p>\n      </div>\n    </div>\n  `;\n    return sendEmail({\n        to: userEmail,\n        subject: \"Welcome to Civix!\",\n        html\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDOzs7ZUFHRCxFQUFFYyxTQUFTOzs7Ozs7Ozs7Ozs7aUJBWVQsRUFBRS9DLFFBQVFDLEdBQUcsQ0FBQzRFLG1CQUFtQixDQUFDOzs7Ozs7O0VBT2pELENBQUM7SUFFRCxPQUFPOUMsVUFBVTtRQUNmckIsSUFBSW9DO1FBQ0puQyxTQUFTO1FBQ1RzQjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL21hY2Jvb2svRGVza3RvcC9wZXJzb25hbC13b3Jrc3BhY2UvY2l2aXgvbGliL3NlcnZpY2VzL2VtYWlsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xuaW1wb3J0IHsgbG9nZ2VyLCBjcmVhdGVOYW1lc3BhY2VMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG4vKipcbiAqIEVtYWlsIHNlcnZpY2UgY29uZmlndXJhdGlvbiBhbmQgdXRpbGl0eSBmdW5jdGlvbnNcbiAqL1xuaW50ZXJmYWNlIEVtYWlsQXR0YWNobWVudCB7XG4gIGZpbGVuYW1lOiBzdHJpbmc7XG4gIGNvbnRlbnQ/OiBCdWZmZXIgfCBzdHJpbmc7XG4gIHBhdGg/OiBzdHJpbmc7XG4gIGNvbnRlbnRUeXBlPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRW1haWxPcHRpb25zIHtcbiAgdG86IHN0cmluZyB8IHN0cmluZ1tdO1xuICBzdWJqZWN0OiBzdHJpbmc7XG4gIHRleHQ/OiBzdHJpbmc7XG4gIGh0bWw6IHN0cmluZztcbiAgY2M/OiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgYmNjPzogc3RyaW5nIHwgc3RyaW5nW107XG4gIGF0dGFjaG1lbnRzPzogRW1haWxBdHRhY2htZW50W107XG4gIGZyb20/OiBzdHJpbmc7XG59XG5cbi8vIENyZWF0ZSBhIHJldXNhYmxlIHRyYW5zcG9ydGVyIG9iamVjdFxuY29uc3QgY3JlYXRlVHJhbnNwb3J0ZXIgPSAoKSA9PiB7XG4gIGxvZ2dlci5pbmZvKCdDcmVhdGluZyBlbWFpbCB0cmFuc3BvcnRlcicpO1xuICBcbiAgLy8gQ2hlY2sgaWYgU01UUCBjcmVkZW50aWFscyBhcmUgYXZhaWxhYmxlXG4gIGNvbnN0IHNtdHBVc2VyID0gcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUiB8fCBwcm9jZXNzLmVudi5TTVRQX1VTRVI7XG4gIGNvbnN0IHNtdHBQYXNzID0gcHJvY2Vzcy5lbnYuRU1BSUxfUEFTUyB8fCBwcm9jZXNzLmVudi5TTVRQX1BBU1M7XG4gIFxuICBpZiAoIXNtdHBVc2VyIHx8ICFzbXRwUGFzcykge1xuICAgIGxvZ2dlci53YXJuKCdTTVRQIGNyZWRlbnRpYWxzIG5vdCBjb25maWd1cmVkLCB1c2luZyBtb2NrIHRyYW5zcG9ydGVyJyk7XG4gICAgLy8gUmV0dXJuIGEgbW9jayB0cmFuc3BvcnRlciBmb3IgZGV2ZWxvcG1lbnRcbiAgICByZXR1cm4ge1xuICAgICAgc2VuZE1haWw6IGFzeW5jIChvcHRpb25zOiBhbnkpID0+IHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ/Cfk6cgTW9jayBlbWFpbCBzZW50JywgeyBcbiAgICAgICAgICB0bzogb3B0aW9ucy50bywgXG4gICAgICAgICAgc3ViamVjdDogb3B0aW9ucy5zdWJqZWN0LFxuICAgICAgICAgIG1lc3NhZ2U6ICdFbWFpbCB3b3VsZCBiZSBzZW50IGluIHByb2R1Y3Rpb24gd2l0aCBwcm9wZXIgU01UUCBjb25maWd1cmF0aW9uJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZUlkOiAnbW9jay0nICsgRGF0ZS5ub3coKSB9O1xuICAgICAgfSxcbiAgICAgIHZlcmlmeTogYXN5bmMgKCkgPT4ge1xuICAgICAgICBsb2dnZXIuaW5mbygn8J+TpyBNb2NrIFNNVFAgdmVyaWZpY2F0aW9uIHN1Y2Nlc3NmdWwnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBcbiAgcmV0dXJuIG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICBob3N0OiBwcm9jZXNzLmVudi5FTUFJTF9IT1NUIHx8IHByb2Nlc3MuZW52LlNNVFBfSE9TVCB8fCAnc210cC5nbWFpbC5jb20nLFxuICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkVNQUlMX1BPUlQgfHwgcHJvY2Vzcy5lbnYuU01UUF9QT1JUIHx8ICc1ODcnKSxcbiAgICBzZWN1cmU6IHByb2Nlc3MuZW52LkVNQUlMX1NFQ1VSRSA9PT0gJ3RydWUnIHx8IHByb2Nlc3MuZW52LlNNVFBfU0VDVVJFID09PSAndHJ1ZScsXG4gICAgYXV0aDoge1xuICAgICAgdXNlcjogc210cFVzZXIsXG4gICAgICBwYXNzOiBzbXRwUGFzcyxcbiAgICB9LFxuICB9KTtcbn07XG5cbi8qKlxuICogU2VuZCBhbiBlbWFpbFxuICogXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEVtYWlsIG9wdGlvbnNcbiAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCB0aGUgcmVzdWx0IG9mIHNlbmRpbmcgdGhlIGVtYWlsXG4gKi9cbmV4cG9ydCBjb25zdCBzZW5kRW1haWwgPSBhc3luYyAob3B0aW9uczogRW1haWxPcHRpb25zKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyB0bywgc3ViamVjdCwgdGV4dCwgaHRtbCwgY2MsIGJjYywgYXR0YWNobWVudHMsIGZyb20gfSA9IG9wdGlvbnM7XG4gICAgXG4gICAgbG9nZ2VyLmluZm8oYFNlbmRpbmcgZW1haWwgdG8gJHtBcnJheS5pc0FycmF5KHRvKSA/IHRvLmpvaW4oJywgJykgOiB0b31gLCB7IHN1YmplY3QgfSk7XG4gICAgXG4gICAgY29uc3QgdHJhbnNwb3J0ZXIgPSBjcmVhdGVUcmFuc3BvcnRlcigpO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBtb2NrIHRyYW5zcG9ydGVyIChubyBTTVRQIGNyZWRlbnRpYWxzKVxuICAgIGlmICh0eXBlb2YgdHJhbnNwb3J0ZXIuc2VuZE1haWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdFbWFpbCBub3Qgc2VudCAtIFNNVFAgY3JlZGVudGlhbHMgbm90IGNvbmZpZ3VyZWQnLCB7IFxuICAgICAgICB0bzogQXJyYXkuaXNBcnJheSh0bykgPyB0by5qb2luKCcsICcpIDogdG8sIFxuICAgICAgICBzdWJqZWN0IFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gUmV0dXJuIHRydWUgdG8gYXZvaWQgYnJlYWtpbmcgdGhlIGZsb3dcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbWFpbE9wdGlvbnMgPSB7XG4gICAgICBmcm9tOiBmcm9tIHx8IHByb2Nlc3MuZW52LkVNQUlMX0ZST00gfHwgJ25vcmVwbHlAZXhhbXBsZS5jb20nLFxuICAgICAgdG8sXG4gICAgICBzdWJqZWN0LFxuICAgICAgdGV4dCxcbiAgICAgIGh0bWwsXG4gICAgICBjYyxcbiAgICAgIGJjYyxcbiAgICAgIGF0dGFjaG1lbnRzLFxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zKTtcbiAgICBsb2dnZXIuaW5mbygnRW1haWwgc2VudCBzdWNjZXNzZnVsbHknLCB7IG1lc3NhZ2VJZDogaW5mby5tZXNzYWdlSWQgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBzZW5kaW5nIGVtYWlsJywgeyBlcnJvcjogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlIH0pO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZW5kIGEgYm9va2luZyBjb25maXJtYXRpb24gZW1haWwgdG8gYSB1c2VyXG4gKi9cbmV4cG9ydCBjb25zdCBzZW5kQm9va2luZ0NvbmZpcm1hdGlvbkVtYWlsID0gYXN5bmMgKFxuICB1c2VyRW1haWw6IHN0cmluZyxcbiAgdXNlck5hbWU6IHN0cmluZyxcbiAgYm9va2luZ0RldGFpbHM6IHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBzZXJ2aWNlTmFtZTogc3RyaW5nO1xuICAgIGRhdGU6IERhdGU7XG4gICAgZHVyYXRpb246IG51bWJlcjtcbiAgICBwcmljZTogbnVtYmVyO1xuICAgIHN0YXR1czogc3RyaW5nO1xuICAgIGFnZW50TmFtZT86IHN0cmluZztcbiAgICBub3Rlcz86IHN0cmluZztcbiAgfVxuKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBuZXcgRGF0ZShib29raW5nRGV0YWlscy5kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xuICAgIHdlZWtkYXk6ICdsb25nJyxcbiAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgbW9udGg6ICdsb25nJyxcbiAgICBkYXk6ICdudW1lcmljJyxcbiAgfSk7XG4gIFxuICBjb25zdCBmb3JtYXR0ZWRUaW1lID0gbmV3IERhdGUoYm9va2luZ0RldGFpbHMuZGF0ZSkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHtcbiAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgbWludXRlOiAnMi1kaWdpdCcsXG4gIH0pO1xuICBcbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMjBweDsgYm9yZGVyOiAxcHggc29saWQgI2VlZTsgYm9yZGVyLXJhZGl1czogNXB4O1wiPlxuICAgICAgPGgyIHN0eWxlPVwiY29sb3I6ICMyNTYzZWI7XCI+WW91ciBCb29raW5nIGlzIENvbmZpcm1lZCE8L2gyPlxuICAgICAgPHA+SGVsbG8gJHt1c2VyTmFtZX0sPC9wPlxuICAgICAgPHA+VGhhbmsgeW91IGZvciB5b3VyIGJvb2tpbmcuIEhlcmUgYXJlIHlvdXIgYm9va2luZyBkZXRhaWxzOjwvcD5cbiAgICAgIFxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmOWZhZmI7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDVweDsgbWFyZ2luOiAyMHB4IDA7XCI+XG4gICAgICAgIDxwPjxzdHJvbmc+U2VydmljZTo8L3N0cm9uZz4gJHtib29raW5nRGV0YWlscy5zZXJ2aWNlTmFtZX08L3A+XG4gICAgICAgIDxwPjxzdHJvbmc+RGF0ZTo8L3N0cm9uZz4gJHtmb3JtYXR0ZWREYXRlfTwvcD5cbiAgICAgICAgPHA+PHN0cm9uZz5UaW1lOjwvc3Ryb25nPiAke2Zvcm1hdHRlZFRpbWV9PC9wPlxuICAgICAgICA8cD48c3Ryb25nPkR1cmF0aW9uOjwvc3Ryb25nPiAke2Jvb2tpbmdEZXRhaWxzLmR1cmF0aW9ufSBtaW51dGVzPC9wPlxuICAgICAgICA8cD48c3Ryb25nPlByaWNlOjwvc3Ryb25nPiAkJHtib29raW5nRGV0YWlscy5wcmljZS50b0ZpeGVkKDIpfTwvcD5cbiAgICAgICAgPHA+PHN0cm9uZz5TdGF0dXM6PC9zdHJvbmc+ICR7Ym9va2luZ0RldGFpbHMuc3RhdHVzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYm9va2luZ0RldGFpbHMuc3RhdHVzLnNsaWNlKDEpfTwvcD5cbiAgICAgICAgJHtib29raW5nRGV0YWlscy5hZ2VudE5hbWUgPyBgPHA+PHN0cm9uZz5BZ2VudDo8L3N0cm9uZz4gJHtib29raW5nRGV0YWlscy5hZ2VudE5hbWV9PC9wPmAgOiAnJ31cbiAgICAgICAgJHtib29raW5nRGV0YWlscy5ub3RlcyA/IGA8cD48c3Ryb25nPk5vdGVzOjwvc3Ryb25nPiAke2Jvb2tpbmdEZXRhaWxzLm5vdGVzfTwvcD5gIDogJyd9XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPHA+SWYgeW91IG5lZWQgdG8gbW9kaWZ5IG9yIGNhbmNlbCB5b3VyIGJvb2tpbmcsIHBsZWFzZSBsb2cgaW4gdG8geW91ciBhY2NvdW50IG9yIGNvbnRhY3QgdXMgZGlyZWN0bHkuPC9wPlxuICAgICAgXG4gICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogMzBweDsgcGFkZGluZy10b3A6IDIwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlO1wiPlxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM2NjY7XCI+VGhhbmsgeW91IGZvciBjaG9vc2luZyBvdXIgc2VydmljZXMhPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG4gIFxuICByZXR1cm4gc2VuZEVtYWlsKHtcbiAgICB0bzogdXNlckVtYWlsLFxuICAgIHN1YmplY3Q6IGBCb29raW5nIENvbmZpcm1hdGlvbiAtICMke2Jvb2tpbmdEZXRhaWxzLl9pZH1gLFxuICAgIGh0bWwsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBTZW5kIGEgYm9va2luZyBub3RpZmljYXRpb24gZW1haWwgdG8gYW4gYWdlbnRcbiAqL1xuZXhwb3J0IGNvbnN0IHNlbmRBZ2VudE5vdGlmaWNhdGlvbkVtYWlsID0gYXN5bmMgKFxuICBhZ2VudEVtYWlsOiBzdHJpbmcsXG4gIGFnZW50TmFtZTogc3RyaW5nLFxuICB1c2VyTmFtZTogc3RyaW5nLFxuICBib29raW5nRGV0YWlsczoge1xuICAgIF9pZDogc3RyaW5nO1xuICAgIHNlcnZpY2VOYW1lOiBzdHJpbmc7XG4gICAgZGF0ZTogRGF0ZTtcbiAgICBkdXJhdGlvbjogbnVtYmVyO1xuICAgIG5vdGVzPzogc3RyaW5nO1xuICB9XG4pOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IG5ldyBEYXRlKGJvb2tpbmdEZXRhaWxzLmRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7XG4gICAgd2Vla2RheTogJ2xvbmcnLFxuICAgIHllYXI6ICdudW1lcmljJyxcbiAgICBtb250aDogJ2xvbmcnLFxuICAgIGRheTogJ251bWVyaWMnLFxuICB9KTtcbiAgXG4gIGNvbnN0IGZvcm1hdHRlZFRpbWUgPSBuZXcgRGF0ZShib29raW5nRGV0YWlscy5kYXRlKS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywge1xuICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgfSk7XG4gIFxuICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZWVlOyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XG4gICAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzI1NjNlYjtcIj5OZXcgQm9va2luZyBBc3NpZ25lZDwvaDI+XG4gICAgICA8cD5IZWxsbyAke2FnZW50TmFtZX0sPC9wPlxuICAgICAgPHA+QSBuZXcgYm9va2luZyBoYXMgYmVlbiBhc3NpZ25lZCB0byB5b3UuIEhlcmUgYXJlIHRoZSBkZXRhaWxzOjwvcD5cbiAgICAgIFxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmOWZhZmI7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDVweDsgbWFyZ2luOiAyMHB4IDA7XCI+XG4gICAgICAgIDxwPjxzdHJvbmc+Q2xpZW50Ojwvc3Ryb25nPiAke3VzZXJOYW1lfTwvcD5cbiAgICAgICAgPHA+PHN0cm9uZz5TZXJ2aWNlOjwvc3Ryb25nPiAke2Jvb2tpbmdEZXRhaWxzLnNlcnZpY2VOYW1lfTwvcD5cbiAgICAgICAgPHA+PHN0cm9uZz5EYXRlOjwvc3Ryb25nPiAke2Zvcm1hdHRlZERhdGV9PC9wPlxuICAgICAgICA8cD48c3Ryb25nPlRpbWU6PC9zdHJvbmc+ICR7Zm9ybWF0dGVkVGltZX08L3A+XG4gICAgICAgIDxwPjxzdHJvbmc+RHVyYXRpb246PC9zdHJvbmc+ICR7Ym9va2luZ0RldGFpbHMuZHVyYXRpb259IG1pbnV0ZXM8L3A+XG4gICAgICAgICR7Ym9va2luZ0RldGFpbHMubm90ZXMgPyBgPHA+PHN0cm9uZz5Ob3Rlczo8L3N0cm9uZz4gJHtib29raW5nRGV0YWlscy5ub3Rlc308L3A+YCA6ICcnfVxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxwPlBsZWFzZSBsb2cgaW4gdG8geW91ciBhY2NvdW50IHRvIHJldmlldyB0aGUgYm9va2luZyBkZXRhaWxzIGFuZCBjb25maXJtIHlvdXIgYXZhaWxhYmlsaXR5LjwvcD5cbiAgICAgIFxuICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDMwcHg7IHBhZGRpbmctdG9wOiAyMHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTtcIj5cbiAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNjY2O1wiPlRoYW5rIHlvdSBmb3IgeW91ciBzZXJ2aWNlITwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuICBcbiAgcmV0dXJuIHNlbmRFbWFpbCh7XG4gICAgdG86IGFnZW50RW1haWwsXG4gICAgc3ViamVjdDogYE5ldyBCb29raW5nIEFzc2lnbmVkIC0gIyR7Ym9va2luZ0RldGFpbHMuX2lkfWAsXG4gICAgaHRtbCxcbiAgfSk7XG59O1xuXG4vKipcbiAqIFNlbmQgYSBwYXNzd29yZCByZXNldCBlbWFpbFxuICovXG5leHBvcnQgY29uc3Qgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCA9IGFzeW5jIChcbiAgdXNlckVtYWlsOiBzdHJpbmcsXG4gIHVzZXJOYW1lOiBzdHJpbmcsXG4gIHJlc2V0VG9rZW46IHN0cmluZyxcbiAgcmVzZXRVcmw6IHN0cmluZ1xuKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIC8vIFVzZSB0aGUgYmFzZVVybCBmcm9tIGVudmlyb25tZW50IG9yIGZhbGxiYWNrXG4gIGNvbnN0IGJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xuICBjb25zdCBmdWxsUmVzZXRVcmwgPSByZXNldFVybCB8fCBgJHtiYXNlVXJsfS9yZXNldC1wYXNzd29yZC8ke3Jlc2V0VG9rZW59YDtcbiAgXG4gIGNvbnN0IGh0bWwgPSBgXG4gICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDIwcHg7IGJvcmRlcjogMXB4IHNvbGlkICNlZWU7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbiAgICAgIDxoMiBzdHlsZT1cImNvbG9yOiAjMjU2M2ViO1wiPlJlc2V0IFlvdXIgUGFzc3dvcmQ8L2gyPlxuICAgICAgPHA+SGVsbG8gJHt1c2VyTmFtZX0sPC9wPlxuICAgICAgPHA+WW91IHJlcXVlc3RlZCBhIHBhc3N3b3JkIHJlc2V0LiBDbGljayB0aGUgYnV0dG9uIGJlbG93IHRvIHJlc2V0IHlvdXIgcGFzc3dvcmQ6PC9wPlxuICAgICAgXG4gICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDMwcHggMDtcIj5cbiAgICAgICAgPGEgaHJlZj1cIiR7ZnVsbFJlc2V0VXJsfVwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogIzI1NjNlYjsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDI0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPlJlc2V0IFBhc3N3b3JkPC9hPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxwPklmIHlvdSBkaWRuJ3QgcmVxdWVzdCB0aGlzIHBhc3N3b3JkIHJlc2V0LCB5b3UgY2FuIHNhZmVseSBpZ25vcmUgdGhpcyBlbWFpbC48L3A+XG4gICAgICA8cD5UaGUgcGFzc3dvcmQgcmVzZXQgbGluayB3aWxsIGV4cGlyZSBpbiAxIGhvdXIuPC9wPlxuICAgICAgXG4gICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogMzBweDsgcGFkZGluZy10b3A6IDIwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlO1wiPlxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM2NjY7XCI+VGhhbmsgeW91ITwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuICBcbiAgcmV0dXJuIHNlbmRFbWFpbCh7XG4gICAgdG86IHVzZXJFbWFpbCxcbiAgICBzdWJqZWN0OiBcIlBhc3N3b3JkIFJlc2V0IFJlcXVlc3RcIixcbiAgICBodG1sLFxuICB9KTtcbn07XG5cbi8qKlxuICogU2VuZCBhIHdlbGNvbWUgZW1haWwgdG8gYSBuZXcgdXNlclxuICovXG5leHBvcnQgY29uc3Qgc2VuZFdlbGNvbWVFbWFpbCA9IGFzeW5jIChcbiAgdXNlckVtYWlsOiBzdHJpbmcsXG4gIHVzZXJOYW1lOiBzdHJpbmdcbik6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZWVlOyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XG4gICAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzI1NjNlYjtcIj5XZWxjb21lIHRvIENpdml4ITwvaDI+XG4gICAgICA8cD5IZWxsbyAke3VzZXJOYW1lfSw8L3A+XG4gICAgICA8cD5UaGFuayB5b3UgZm9yIHNpZ25pbmcgdXAgd2l0aCBDaXZpeC4gV2UncmUgZXhjaXRlZCB0byBoYXZlIHlvdSBvbiBib2FyZCE8L3A+XG4gICAgICBcbiAgICAgIDxwPldpdGggeW91ciBuZXcgYWNjb3VudCwgeW91IGNhbjo8L3A+XG4gICAgICA8dWw+XG4gICAgICAgIDxsaT5Ccm93c2UgYW5kIGJvb2sgc2VydmljZXM8L2xpPlxuICAgICAgICA8bGk+VHJhY2sgeW91ciBib29raW5nczwvbGk+XG4gICAgICAgIDxsaT5NYW5hZ2UgeW91ciBwcm9maWxlPC9saT5cbiAgICAgICAgPGxpPkdldCBzdXBwb3J0IHdoZW4geW91IG5lZWQgaXQ8L2xpPlxuICAgICAgPC91bD5cbiAgICAgIFxuICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAzMHB4IDA7XCI+XG4gICAgICAgIDxhIGhyZWY9XCIke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkx9L3NlcnZpY2VzXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjMjU2M2ViOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMjRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA0cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+RXhwbG9yZSBTZXJ2aWNlczwvYT5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogMzBweDsgcGFkZGluZy10b3A6IDIwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlO1wiPlxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM2NjY7XCI+VGhhbmsgeW91IGZvciBjaG9vc2luZyBDaXZpeCE8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcbiAgXG4gIHJldHVybiBzZW5kRW1haWwoe1xuICAgIHRvOiB1c2VyRW1haWwsXG4gICAgc3ViamVjdDogXCJXZWxjb21lIHRvIENpdml4IVwiLFxuICAgIGh0bWwsXG4gIH0pO1xufTsgIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJsb2dnZXIiLCJjcmVhdGVUcmFuc3BvcnRlciIsImluZm8iLCJzbXRwVXNlciIsInByb2Nlc3MiLCJlbnYiLCJFTUFJTF9VU0VSIiwiU01UUF9VU0VSIiwic210cFBhc3MiLCJFTUFJTF9QQVNTIiwiU01UUF9QQVNTIiwid2FybiIsInNlbmRNYWlsIiwib3B0aW9ucyIsInRvIiwic3ViamVjdCIsIm1lc3NhZ2UiLCJtZXNzYWdlSWQiLCJEYXRlIiwibm93IiwidmVyaWZ5IiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsIkVNQUlMX0hPU1QiLCJTTVRQX0hPU1QiLCJwb3J0IiwicGFyc2VJbnQiLCJFTUFJTF9QT1JUIiwiU01UUF9QT1JUIiwic2VjdXJlIiwiRU1BSUxfU0VDVVJFIiwiU01UUF9TRUNVUkUiLCJhdXRoIiwidXNlciIsInBhc3MiLCJzZW5kRW1haWwiLCJ0ZXh0IiwiaHRtbCIsImNjIiwiYmNjIiwiYXR0YWNobWVudHMiLCJmcm9tIiwiQXJyYXkiLCJpc0FycmF5Iiwiam9pbiIsInRyYW5zcG9ydGVyIiwibWFpbE9wdGlvbnMiLCJFTUFJTF9GUk9NIiwiZXJyb3IiLCJzZW5kQm9va2luZ0NvbmZpcm1hdGlvbkVtYWlsIiwidXNlckVtYWlsIiwidXNlck5hbWUiLCJib29raW5nRGV0YWlscyIsImZvcm1hdHRlZERhdGUiLCJkYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwid2Vla2RheSIsInllYXIiLCJtb250aCIsImRheSIsImZvcm1hdHRlZFRpbWUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwic2VydmljZU5hbWUiLCJkdXJhdGlvbiIsInByaWNlIiwidG9GaXhlZCIsInN0YXR1cyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJhZ2VudE5hbWUiLCJub3RlcyIsIl9pZCIsInNlbmRBZ2VudE5vdGlmaWNhdGlvbkVtYWlsIiwiYWdlbnRFbWFpbCIsInNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCJyZXNldFRva2VuIiwicmVzZXRVcmwiLCJiYXNlVXJsIiwiTkVYVF9QVUJMSUNfQVBQX1VSTCIsImZ1bGxSZXNldFVybCIsInNlbmRXZWxjb21lRW1haWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/services/email.ts\n");

/***/ }),

/***/ "(rsc)/./models/User.ts":
/*!************************!*\
  !*** ./models/User.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n\n\n// Settings schemas\nconst NotificationSettingsSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    email: {\n        type: Boolean,\n        default: true\n    },\n    sms: {\n        type: Boolean,\n        default: false\n    },\n    marketing: {\n        type: Boolean,\n        default: false\n    },\n    reminders: {\n        type: Boolean,\n        default: true\n    }\n}, {\n    _id: false\n});\nconst AppearanceSettingsSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    theme: {\n        type: String,\n        enum: [\n            'light',\n            'dark',\n            'system'\n        ],\n        default: 'system'\n    },\n    fontSize: {\n        type: String,\n        enum: [\n            'small',\n            'medium',\n            'large'\n        ],\n        default: 'medium'\n    },\n    reduceAnimations: {\n        type: Boolean,\n        default: false\n    },\n    highContrast: {\n        type: Boolean,\n        default: false\n    }\n}, {\n    _id: false\n});\nconst PrivacySettingsSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    profileVisibility: {\n        type: String,\n        enum: [\n            'public',\n            'contacts',\n            'private'\n        ],\n        default: 'public'\n    },\n    shareBookingHistory: {\n        type: Boolean,\n        default: false\n    },\n    shareContactInfo: {\n        type: Boolean,\n        default: false\n    },\n    allowDataCollection: {\n        type: Boolean,\n        default: true\n    }\n}, {\n    _id: false\n});\nconst UserSettingsSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    notifications: {\n        type: NotificationSettingsSchema,\n        default: ()=>({})\n    },\n    appearance: {\n        type: AppearanceSettingsSchema,\n        default: ()=>({})\n    },\n    privacy: {\n        type: PrivacySettingsSchema,\n        default: ()=>({})\n    }\n}, {\n    _id: false\n});\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    role: {\n        type: String,\n        required: true,\n        enum: [\n            \"USER\",\n            \"AGENT\",\n            \"ADMIN\",\n            \"SUPER_ADMIN\"\n        ],\n        default: \"USER\"\n    },\n    phone: {\n        type: String\n    },\n    address: {\n        type: String\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    settings: {\n        type: UserSettingsSchema,\n        default: ()=>({})\n    },\n    lastLogin: {\n        type: Date\n    },\n    resetPasswordToken: {\n        type: String\n    },\n    resetPasswordExpires: {\n        type: Date\n    }\n}, {\n    timestamps: true\n});\n// Hash password before saving\nUserSchema.pre(\"save\", async function(next) {\n    if (!this.isModified(\"password\")) return next();\n    try {\n        const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].genSalt(10);\n        this.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(this.password, salt);\n        next();\n    } catch (error) {\n        next(error);\n    }\n});\n// Compare password method\nUserSchema.methods.comparePassword = async function(candidatePassword) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compare(candidatePassword, this.password);\n};\n// Only run indexing on server side to avoid browser warnings\nif (true) {\n    // Create indexes for better query performance\n    UserSchema.index({\n        email: 1\n    }, {\n        unique: true\n    });\n    UserSchema.index({\n        role: 1\n    });\n    UserSchema.index({\n        resetPasswordToken: 1\n    });\n}\n// Prevent model compilation error in development due to hot reloading\nlet User;\nif ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models) && (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User) {\n    User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User;\n} else {\n    User = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRLEdBQUcsTUFBTTdCLHFEQUFXLENBQUMsSUFBSSxDQUFDNkIsUUFBUSxFQUFFYztRQUNqREY7SUFDRixFQUFFLE9BQU9LLE9BQVk7UUFDbkJMLEtBQUtLO0lBQ1A7QUFDRjtBQUVBLDBCQUEwQjtBQUMxQnBCLFdBQVdxQixPQUFPLENBQUNDLGVBQWUsR0FBRyxlQUFlQyxpQkFBeUI7SUFDM0UsT0FBT2pELHdEQUFjLENBQUNpRCxtQkFBbUIsSUFBSSxDQUFDcEIsUUFBUTtBQUN4RDtBQUVBLDZEQUE2RDtBQUM3RCxJQUFJLElBQTZCLEVBQUU7SUFDakMsOENBQThDO0lBQzlDSCxXQUFXeUIsS0FBSyxDQUFDO1FBQUVqRCxPQUFPO0lBQUUsR0FBRztRQUFFa0QsUUFBUTtJQUFLO0lBQzlDMUIsV0FBV3lCLEtBQUssQ0FBQztRQUFFckIsTUFBTTtJQUFFO0lBQzNCSixXQUFXeUIsS0FBSyxDQUFDO1FBQUVkLG9CQUFvQjtJQUFFO0FBQzNDO0FBRUEsc0VBQXNFO0FBQ3RFLElBQUlnQjtBQUVKLElBQUl2RCx3REFBZSxJQUFJQSx3REFBZSxDQUFDdUQsSUFBSSxFQUFFO0lBQzNDQSxPQUFPdkQsd0RBQWUsQ0FBQ3VELElBQUk7QUFDN0IsT0FBTztJQUNMQSxPQUFPdkQscURBQWMsQ0FBUSxRQUFRNEI7QUFDdkM7QUFFQSxpRUFBZTJCLElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvcGVyc29uYWwtd29ya3NwYWNlL2Npdml4L21vZGVscy9Vc2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEsIERvY3VtZW50LCBNb2RlbCB9IGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcblxuLy8gU2V0dGluZ3MgaW50ZXJmYWNlc1xuZXhwb3J0IGludGVyZmFjZSBJTm90aWZpY2F0aW9uU2V0dGluZ3Mge1xuICBlbWFpbDogYm9vbGVhbjtcbiAgc21zOiBib29sZWFuO1xuICBtYXJrZXRpbmc6IGJvb2xlYW47XG4gIHJlbWluZGVyczogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQXBwZWFyYW5jZVNldHRpbmdzIHtcbiAgdGhlbWU6ICdsaWdodCcgfCAnZGFyaycgfCAnc3lzdGVtJztcbiAgZm9udFNpemU6ICdzbWFsbCcgfCAnbWVkaXVtJyB8ICdsYXJnZSc7XG4gIHJlZHVjZUFuaW1hdGlvbnM6IGJvb2xlYW47XG4gIGhpZ2hDb250cmFzdDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUHJpdmFjeVNldHRpbmdzIHtcbiAgcHJvZmlsZVZpc2liaWxpdHk6ICdwdWJsaWMnIHwgJ2NvbnRhY3RzJyB8ICdwcml2YXRlJztcbiAgc2hhcmVCb29raW5nSGlzdG9yeTogYm9vbGVhbjtcbiAgc2hhcmVDb250YWN0SW5mbzogYm9vbGVhbjtcbiAgYWxsb3dEYXRhQ29sbGVjdGlvbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVXNlclNldHRpbmdzIHtcbiAgbm90aWZpY2F0aW9uczogSU5vdGlmaWNhdGlvblNldHRpbmdzO1xuICBhcHBlYXJhbmNlOiBJQXBwZWFyYW5jZVNldHRpbmdzO1xuICBwcml2YWN5OiBJUHJpdmFjeVNldHRpbmdzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElVc2VyIGV4dGVuZHMgRG9jdW1lbnQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIHJvbGU6IFwiVVNFUlwiIHwgXCJBR0VOVFwiIHwgXCJBRE1JTlwiIHwgXCJTVVBFUl9BRE1JTlwiO1xuICBwaG9uZT86IHN0cmluZztcbiAgYWRkcmVzcz86IHN0cmluZztcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIHNldHRpbmdzPzogSVVzZXJTZXR0aW5ncztcbiAgbGFzdExvZ2luPzogRGF0ZTtcbiAgcmVzZXRQYXNzd29yZFRva2VuPzogc3RyaW5nO1xuICByZXNldFBhc3N3b3JkRXhwaXJlcz86IERhdGU7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xuICBjb21wYXJlUGFzc3dvcmQoY2FuZGlkYXRlUGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj47XG59XG5cbi8vIFNldHRpbmdzIHNjaGVtYXNcbmNvbnN0IE5vdGlmaWNhdGlvblNldHRpbmdzU2NoZW1hID0gbmV3IFNjaGVtYTxJTm90aWZpY2F0aW9uU2V0dGluZ3M+KHtcbiAgZW1haWw6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LFxuICBzbXM6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgbWFya2V0aW5nOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIHJlbWluZGVyczogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH1cbn0sIHsgX2lkOiBmYWxzZSB9KTtcblxuY29uc3QgQXBwZWFyYW5jZVNldHRpbmdzU2NoZW1hID0gbmV3IFNjaGVtYTxJQXBwZWFyYW5jZVNldHRpbmdzPih7XG4gIHRoZW1lOiB7IHR5cGU6IFN0cmluZywgZW51bTogWydsaWdodCcsICdkYXJrJywgJ3N5c3RlbSddLCBkZWZhdWx0OiAnc3lzdGVtJyB9LFxuICBmb250U2l6ZTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJ10sIGRlZmF1bHQ6ICdtZWRpdW0nIH0sXG4gIHJlZHVjZUFuaW1hdGlvbnM6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgaGlnaENvbnRyYXN0OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH1cbn0sIHsgX2lkOiBmYWxzZSB9KTtcblxuY29uc3QgUHJpdmFjeVNldHRpbmdzU2NoZW1hID0gbmV3IFNjaGVtYTxJUHJpdmFjeVNldHRpbmdzPih7XG4gIHByb2ZpbGVWaXNpYmlsaXR5OiB7IHR5cGU6IFN0cmluZywgZW51bTogWydwdWJsaWMnLCAnY29udGFjdHMnLCAncHJpdmF0ZSddLCBkZWZhdWx0OiAncHVibGljJyB9LFxuICBzaGFyZUJvb2tpbmdIaXN0b3J5OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIHNoYXJlQ29udGFjdEluZm86IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgYWxsb3dEYXRhQ29sbGVjdGlvbjogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH1cbn0sIHsgX2lkOiBmYWxzZSB9KTtcblxuY29uc3QgVXNlclNldHRpbmdzU2NoZW1hID0gbmV3IFNjaGVtYTxJVXNlclNldHRpbmdzPih7XG4gIG5vdGlmaWNhdGlvbnM6IHsgdHlwZTogTm90aWZpY2F0aW9uU2V0dGluZ3NTY2hlbWEsIGRlZmF1bHQ6ICgpID0+ICh7fSkgfSxcbiAgYXBwZWFyYW5jZTogeyB0eXBlOiBBcHBlYXJhbmNlU2V0dGluZ3NTY2hlbWEsIGRlZmF1bHQ6ICgpID0+ICh7fSkgfSxcbiAgcHJpdmFjeTogeyB0eXBlOiBQcml2YWN5U2V0dGluZ3NTY2hlbWEsIGRlZmF1bHQ6ICgpID0+ICh7fSkgfVxufSwgeyBfaWQ6IGZhbHNlIH0pO1xuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYTxJVXNlcj4oXG4gIHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHJvbGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgZW51bTogW1wiVVNFUlwiLCBcIkFHRU5UXCIsIFwiQURNSU5cIiwgXCJTVVBFUl9BRE1JTlwiXSxcbiAgICAgIGRlZmF1bHQ6IFwiVVNFUlwiXG4gICAgfSxcbiAgICBwaG9uZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgIGlzQWN0aXZlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICBzZXR0aW5nczogeyB0eXBlOiBVc2VyU2V0dGluZ3NTY2hlbWEsIGRlZmF1bHQ6ICgpID0+ICh7fSkgfSxcbiAgICBsYXN0TG9naW46IHsgdHlwZTogRGF0ZSB9LFxuICAgIHJlc2V0UGFzc3dvcmRUb2tlbjogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICByZXNldFBhc3N3b3JkRXhwaXJlczogeyB0eXBlOiBEYXRlIH0sXG4gIH0sXG4gIHsgdGltZXN0YW1wczogdHJ1ZSB9XG4pO1xuXG4vLyBIYXNoIHBhc3N3b3JkIGJlZm9yZSBzYXZpbmdcblVzZXJTY2hlbWEucHJlKFwic2F2ZVwiLCBhc3luYyBmdW5jdGlvbihuZXh0KSB7XG4gIGlmICghdGhpcy5pc01vZGlmaWVkKFwicGFzc3dvcmRcIikpIHJldHVybiBuZXh0KCk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMCk7XG4gICAgdGhpcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIHNhbHQpO1xuICAgIG5leHQoKTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIG5leHQoZXJyb3IpO1xuICB9XG59KTtcblxuLy8gQ29tcGFyZSBwYXNzd29yZCBtZXRob2RcblVzZXJTY2hlbWEubWV0aG9kcy5jb21wYXJlUGFzc3dvcmQgPSBhc3luYyBmdW5jdGlvbihjYW5kaWRhdGVQYXNzd29yZDogc3RyaW5nKSB7XG4gIHJldHVybiBiY3J5cHQuY29tcGFyZShjYW5kaWRhdGVQYXNzd29yZCwgdGhpcy5wYXNzd29yZCk7XG59O1xuXG4vLyBPbmx5IHJ1biBpbmRleGluZyBvbiBzZXJ2ZXIgc2lkZSB0byBhdm9pZCBicm93c2VyIHdhcm5pbmdzXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy8gQ3JlYXRlIGluZGV4ZXMgZm9yIGJldHRlciBxdWVyeSBwZXJmb3JtYW5jZVxuICBVc2VyU2NoZW1hLmluZGV4KHsgZW1haWw6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSk7XG4gIFVzZXJTY2hlbWEuaW5kZXgoeyByb2xlOiAxIH0pO1xuICBVc2VyU2NoZW1hLmluZGV4KHsgcmVzZXRQYXNzd29yZFRva2VuOiAxIH0pO1xufVxuXG4vLyBQcmV2ZW50IG1vZGVsIGNvbXBpbGF0aW9uIGVycm9yIGluIGRldmVsb3BtZW50IGR1ZSB0byBob3QgcmVsb2FkaW5nXG5sZXQgVXNlcjogTW9kZWw8SVVzZXI+O1xuXG5pZiAobW9uZ29vc2UubW9kZWxzICYmIG1vbmdvb3NlLm1vZGVscy5Vc2VyKSB7XG4gIFVzZXIgPSBtb25nb29zZS5tb2RlbHMuVXNlciBhcyBNb2RlbDxJVXNlcj47XG59IGVsc2Uge1xuICBVc2VyID0gbW9uZ29vc2UubW9kZWw8SVVzZXI+KFwiVXNlclwiLCBVc2VyU2NoZW1hKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlcjsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJiY3J5cHQiLCJOb3RpZmljYXRpb25TZXR0aW5nc1NjaGVtYSIsImVtYWlsIiwidHlwZSIsIkJvb2xlYW4iLCJkZWZhdWx0Iiwic21zIiwibWFya2V0aW5nIiwicmVtaW5kZXJzIiwiX2lkIiwiQXBwZWFyYW5jZVNldHRpbmdzU2NoZW1hIiwidGhlbWUiLCJTdHJpbmciLCJlbnVtIiwiZm9udFNpemUiLCJyZWR1Y2VBbmltYXRpb25zIiwiaGlnaENvbnRyYXN0IiwiUHJpdmFjeVNldHRpbmdzU2NoZW1hIiwicHJvZmlsZVZpc2liaWxpdHkiLCJzaGFyZUJvb2tpbmdIaXN0b3J5Iiwic2hhcmVDb250YWN0SW5mbyIsImFsbG93RGF0YUNvbGxlY3Rpb24iLCJVc2VyU2V0dGluZ3NTY2hlbWEiLCJub3RpZmljYXRpb25zIiwiYXBwZWFyYW5jZSIsInByaXZhY3kiLCJVc2VyU2NoZW1hIiwibmFtZSIsInJlcXVpcmVkIiwicGFzc3dvcmQiLCJyb2xlIiwicGhvbmUiLCJhZGRyZXNzIiwiaXNBY3RpdmUiLCJzZXR0aW5ncyIsImxhc3RMb2dpbiIsIkRhdGUiLCJyZXNldFBhc3N3b3JkVG9rZW4iLCJyZXNldFBhc3N3b3JkRXhwaXJlcyIsInRpbWVzdGFtcHMiLCJwcmUiLCJuZXh0IiwiaXNNb2RpZmllZCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsImVycm9yIiwibWV0aG9kcyIsImNvbXBhcmVQYXNzd29yZCIsImNhbmRpZGF0ZVBhc3N3b3JkIiwiY29tcGFyZSIsImluZGV4IiwidW5pcXVlIiwiVXNlciIsIm1vZGVscyIsIm1vZGVsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./models/User.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _Users_macbook_Desktop_personal_workspace_civix_app_api_auth_register_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/auth/register/route.ts */ \"(rsc)/./app/api/auth/register/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/register/route\",\n        pathname: \"/api/auth/register\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/register/route\"\n    },\n    distDir: \".next\" || 0,\n    projectDir:  false || '',\n    resolvedPagePath: \"/Users/macbook/Desktop/personal-workspace/civix/app/api/auth/register/route.ts\",\n    nextConfigOutput,\n    userland: _Users_macbook_Desktop_personal_workspace_civix_app_api_auth_register_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/auth/register/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = \"false\";\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                dynamicIO: Boolean(nextConfig.experimental.dynamicIO),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGcmVnaXN0ZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1hY2Jvb2slMkZEZXNrdG9wJTJGcGVyc29uYWwtd29ya3NwYWNlJTJGY2l2aXglMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbWFjYm9vayUyRkRlc2t0b3AlMkZwZXJzb25hbC13b3Jrc3BhY2UlMkZjaXZpeCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QmaXNHbG9iYWxOb3RGb3VuZEVuYWJsZWQ9ISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNkO0FBQ1M7QUFDTztBQUNLO0FBQ21DO0FBQ2pEO0FBQ087QUFDZjtBQUNzQztBQUN6QjtBQUNNO0FBQ0M7QUFDaEI7QUFDeUM7QUFDM0c7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSxPQUFvQyxJQUFJLENBQUU7QUFDdkQsZ0JBQWdCLE1BQXVDO0FB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QUE2QywwRkFBcUI7QUFDbEU7QUFDQSxrQkFBa0IsNkVBQVk7QUFDOUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBWTtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0QWRhcHRlciwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9uZXh0LXJlcXVlc3RcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDYWNoZUNvbnRyb2xIZWFkZXIgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvY2FjaGUtY29udHJvbFwiO1xuaW1wb3J0IHsgSU5GSU5JVEVfQ0FDSEUsIE5FWFRfQ0FDSEVfVEFHU19IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5vRmFsbGJhY2tFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9uby1mYWxsYmFjay1lcnJvci5leHRlcm5hbFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbWFjYm9vay9EZXNrdG9wL3BlcnNvbmFsLXdvcmtzcGFjZS9jaXZpeC9hcHAvYXBpL2F1dGgvcmVnaXN0ZXIvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9yZWdpc3RlclwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9yZWdpc3Rlci9yb3V0ZVwiXG4gICAgfSxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL21hY2Jvb2svRGVza3RvcC9wZXJzb25hbC13b3Jrc3BhY2UvY2l2aXgvYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfbmV4dENvbmZpZ19leHBlcmltZW50YWw7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvYXV0aC9yZWdpc3Rlci9yb3V0ZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9IGVsc2UgaWYgKHNyY1BhZ2UgPT09ICcvaW5kZXgnKSB7XG4gICAgICAgIC8vIHdlIGFsd2F5cyBub3JtYWxpemUgL2luZGV4IHNwZWNpZmljYWxseVxuICAgICAgICBzcmNQYWdlID0gJy8nO1xuICAgIH1cbiAgICBjb25zdCBtdWx0aVpvbmVEcmFmdE1vZGUgPSBwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFO1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2UsXG4gICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBidWlsZElkLCBwYXJhbXMsIG5leHRDb25maWcsIGlzRHJhZnRNb2RlLCBwcmVyZW5kZXJNYW5pZmVzdCwgcm91dGVyU2VydmVyQ29udGV4dCwgaXNPbkRlbWFuZFJldmFsaWRhdGUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByZXNvbHZlZFBhdGhuYW1lIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTcmNQYWdlID0gbm9ybWFsaXplQXBwUGF0aChzcmNQYWdlKTtcbiAgICBsZXQgaXNJc3IgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgaWYgKGlzSXNyICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgICAgICBjb25zdCBwcmVyZW5kZXJJbmZvID0gcHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV07XG4gICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mby5mYWxsYmFjayA9PT0gZmFsc2UgJiYgIWlzUHJlcmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9GYWxsYmFja0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNhY2hlS2V5ID0gbnVsbDtcbiAgICBpZiAoaXNJc3IgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjYWNoZUtleSA9IHJlc29sdmVkUGF0aG5hbWU7XG4gICAgICAgIC8vIGVuc3VyZSAvaW5kZXggYW5kIC8gaXMgbm9ybWFsaXplZCB0byBvbmUga2V5XG4gICAgICAgIGNhY2hlS2V5ID0gY2FjaGVLZXkgPT09ICcvaW5kZXgnID8gJy8nIDogY2FjaGVLZXk7XG4gICAgfVxuICAgIGNvbnN0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTFxuICAgIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IC8vIElmIHRoaXMgaXMgbm90IFNTRyBvciBkb2VzIG5vdCBoYXZlIHN0YXRpYyBwYXRocywgdGhlbiBpdCBzdXBwb3J0c1xuICAgIC8vIGR5bmFtaWMgSFRNTC5cbiAgICAhaXNJc3I7XG4gICAgLy8gVGhpcyBpcyBhIHJldmFsaWRhdGlvbiByZXF1ZXN0IGlmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpY1xuICAgIC8vIHBhZ2UgYW5kIGl0IGlzIG5vdCBiZWluZyByZXN1bWVkIGZyb20gYSBwb3N0cG9uZWQgcmVuZGVyIGFuZFxuICAgIC8vIGl0IGlzIG5vdCBhIGR5bmFtaWMgUlNDIHJlcXVlc3QgdGhlbiBpdCBpcyBhIHJldmFsaWRhdGlvblxuICAgIC8vIHJlcXVlc3QuXG4gICAgY29uc3QgaXNSZXZhbGlkYXRlID0gaXNJc3IgJiYgIXN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlO1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgY29uc3QgYWN0aXZlU3BhbiA9IHRyYWNlci5nZXRBY3RpdmVTY29wZVNwYW4oKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICByZW5kZXJPcHRzOiB7XG4gICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICBkeW5hbWljSU86IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuZHluYW1pY0lPKSxcbiAgICAgICAgICAgICAgICBhdXRoSW50ZXJydXB0czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hdXRoSW50ZXJydXB0cylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiAoX25leHRDb25maWdfZXhwZXJpbWVudGFsID0gbmV4dENvbmZpZy5leHBlcmltZW50YWwpID09IG51bGwgPyB2b2lkIDAgOiBfbmV4dENvbmZpZ19leHBlcmltZW50YWwuY2FjaGVMaWZlLFxuICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgb25DbG9zZTogKGNiKT0+e1xuICAgICAgICAgICAgICAgIHJlcy5vbignY2xvc2UnLCBjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BZnRlclRhc2tFcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb25JbnN0cnVtZW50YXRpb25SZXF1ZXN0RXJyb3I6IChlcnJvciwgX3JlcXVlc3QsIGVycm9yQ29udGV4dCk9PnJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyb3IsIGVycm9yQ29udGV4dCwgcm91dGVyU2VydmVyQ29udGV4dClcbiAgICAgICAgfSxcbiAgICAgICAgc2hhcmVkQ29udGV4dDoge1xuICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub2RlTmV4dFJlcSA9IG5ldyBOb2RlTmV4dFJlcXVlc3QocmVxKTtcbiAgICBjb25zdCBub2RlTmV4dFJlcyA9IG5ldyBOb2RlTmV4dFJlc3BvbnNlKHJlcyk7XG4gICAgY29uc3QgbmV4dFJlcSA9IE5leHRSZXF1ZXN0QWRhcHRlci5mcm9tTm9kZU5leHRSZXF1ZXN0KG5vZGVOZXh0UmVxLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlKHJlcykpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT57XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuaGFuZGxlKG5leHRSZXEsIGNvbnRleHQpLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBhc3luYyAoY3VycmVudFNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWU7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IHByZXZpb3VzQ2FjaGVFbnRyeSB9KT0+e1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiByZXZhbGlkYXRlT25seUdlbmVyYXRlZCAmJiAhcHJldmlvdXNDYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uLWRlbWFuZCByZXZhbGlkYXRlIGFsd2F5cyBzZXRzIHRoaXMgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsICdSRVZBTElEQVRFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShjdXJyZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5mZXRjaE1ldHJpY3MgPSBjb250ZXh0LnJlbmRlck9wdHMuZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGVuZGluZ1dhaXRVbnRpbCA9IGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHVzaW5nIHByb3ZpZGVkIHdhaXRVbnRpbCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBub3Qgd2UgZmFsbGJhY2sgdG8gc2VuZFJlc3BvbnNlJ3MgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdXYWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHgud2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LndhaXRVbnRpbChwZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nV2FpdFVudGlsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlVGFncyA9IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRUYWdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWMgcmVzcG9uc2UsIHdlIGNhbiBjYWNoZSBpdCBzbyBsb25nXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGl0J3Mgbm90IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lzcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGhlYWRlcnMgZnJvbSB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdID0gY2FjaGVUYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzWydjb250ZW50LXR5cGUnXSAmJiBibG9iLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGJsb2IudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmFsaWRhdGUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID49IElORklOSVRFX0NBQ0hFID8gZmFsc2UgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID49IElORklOSVRFX0NBQ0hFID8gdW5kZWZpbmVkIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY2FjaGUgZW50cnkgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEJ1ZmZlci5mcm9tKGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIHJlc3BvbnNlIHdpdGhvdXQgY2FjaGluZyBpZiBub3QgSVNSXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCByZXNwb25zZSwgY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJhY2tncm91bmQgcmV2YWxpZGF0ZSB3ZSBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBlcnJvciBoZXJlIGFzIGl0IHdvbid0IGJlIGJ1YmJsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNDYWNoZUVudHJ5LmlzU3RhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgIGNhY2hlS2V5LFxuICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNyZWF0ZSBhIGNhY2hlRW50cnkgZm9yIElTUlxuICAgICAgICAgICAgaWYgKCFpc0lzcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUxO1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogYXBwLXJvdXRlIHJlY2VpdmVkIGludmFsaWQgY2FjaGUgZW50cnkgJHtjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUxID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlMS5raW5kfWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTcwMVwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsIGlzT25EZW1hbmRSZXZhbGlkYXRlID8gJ1JFVkFMSURBVEVEJyA6IGNhY2hlRW50cnkuaXNNaXNzID8gJ01JU1MnIDogY2FjaGVFbnRyeS5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERyYWZ0IG1vZGUgc2hvdWxkIG5ldmVyIGJlIGNhY2hlZFxuICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG1heC1hZ2U9MCwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKGNhY2hlRW50cnkudmFsdWUuaGVhZGVycyk7XG4gICAgICAgICAgICBpZiAoIShnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzSXNyKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuZGVsZXRlKE5FWFRfQ0FDSEVfVEFHU19IRUFERVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY2FjaGUgY29udHJvbCBpcyBhbHJlYWR5IHNldCBvbiB0aGUgcmVzcG9uc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGl0IHRvIGFsbG93IHVzZXJzIHRvIGN1c3RvbWl6ZSBpdCB2aWEgbmV4dC5jb25maWdcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCAmJiAhcmVzLmdldEhlYWRlcignQ2FjaGUtQ29udHJvbCcpICYmICFoZWFkZXJzLmdldCgnQ2FjaGUtQ29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCBnZXRDYWNoZUNvbnRyb2xIZWFkZXIoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShjYWNoZUVudHJ5LnZhbHVlLmJvZHksIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHN0YXR1czogY2FjaGVFbnRyeS52YWx1ZS5zdGF0dXMgfHwgMjAwXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGhhbmRsZVJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlbid0IHdyYXBwZWQgYnkgYmFzZS1zZXJ2ZXIgaGFuZGxlIGhlcmVcbiAgICAgICAgaWYgKCFhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/nodemailer","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();