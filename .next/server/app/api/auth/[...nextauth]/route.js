/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "(rsc)/./app/api/auth/[...nextauth]/route.ts":
/*!*********************************************!*\
  !*** ./app/api/auth/[...nextauth]/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/auth */ \"(rsc)/./auth.ts\");\n\nconst { GET, POST } = _auth__WEBPACK_IMPORTED_MODULE_0__.handlers;\n// Set runtime to nodejs for MongoDB compatibility\nconst runtime = \"nodejs\";\n// Add dynamic config for production and local environments\nconst dynamic = \"force-dynamic\"; // Don't cache auth responses \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFrQztBQUUzQixNQUFNLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFLEdBQUdGLDJDQUFRQSxDQUFDO0FBRXRDLGtEQUFrRDtBQUMzQyxNQUFNRyxVQUFVLFNBQVM7QUFFaEMsMkRBQTJEO0FBQ3BELE1BQU1DLFVBQVUsZ0JBQWdCLENBQUMsOEJBQThCIiwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9vay9EZXNrdG9wL3BlcnNvbmFsLXdvcmtzcGFjZS9jaXZpeC1zcWwvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFuZGxlcnMgfSBmcm9tIFwiQC9hdXRoXCI7XG5cbmV4cG9ydCBjb25zdCB7IEdFVCwgUE9TVCB9ID0gaGFuZGxlcnM7XG5cbi8vIFNldCBydW50aW1lIHRvIG5vZGVqcyBmb3IgTW9uZ29EQiBjb21wYXRpYmlsaXR5XG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XG5cbi8vIEFkZCBkeW5hbWljIGNvbmZpZyBmb3IgcHJvZHVjdGlvbiBhbmQgbG9jYWwgZW52aXJvbm1lbnRzXG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiOyAvLyBEb24ndCBjYWNoZSBhdXRoIHJlc3BvbnNlcyAiXSwibmFtZXMiOlsiaGFuZGxlcnMiLCJHRVQiLCJQT1NUIiwicnVudGltZSIsImR5bmFtaWMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./auth.ts":
/*!*****************!*\
  !*** ./auth.ts ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./models/User.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/logger */ \"(rsc)/./lib/logger.ts\");\n/* harmony import */ var _models_AuditLog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/models/AuditLog */ \"(rsc)/./models/AuditLog.ts\");\n\n\n\n\nconst logger = (0,_lib_logger__WEBPACK_IMPORTED_MODULE_2__.createNamespaceLogger)('auth');\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials, req) {\n                try {\n                    if (!credentials?.email || !credentials?.password) {\n                        logger.warn('Missing credentials in login attempt');\n                        return null;\n                    }\n                    logger.info('Login attempt', {\n                        email: credentials.email\n                    });\n                    const user = await _models_User__WEBPACK_IMPORTED_MODULE_1__.User.findByEmail(credentials.email);\n                    if (!user) {\n                        logger.warn('User not found', {\n                            email: credentials.email\n                        });\n                        // Create audit log for failed login\n                        await (0,_models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.createAuditLog)(0, _models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.AuditActions.LOGIN_FAILED, {\n                            details: {\n                                email: credentials.email,\n                                reason: 'User not found'\n                            },\n                            ipAddress: req?.headers?.['x-forwarded-for'] || req?.ip,\n                            userAgent: req?.headers?.['user-agent']\n                        });\n                        return null;\n                    }\n                    if (!user.isActive) {\n                        logger.warn('Inactive user login attempt', {\n                            email: credentials.email,\n                            userId: user.id\n                        });\n                        await (0,_models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.createAuditLog)(user.id, _models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.AuditActions.LOGIN_FAILED, {\n                            details: {\n                                reason: 'Account inactive'\n                            },\n                            ipAddress: req?.headers?.['x-forwarded-for'] || req?.ip,\n                            userAgent: req?.headers?.['user-agent']\n                        });\n                        return null;\n                    }\n                    const isPasswordValid = await _models_User__WEBPACK_IMPORTED_MODULE_1__.User.comparePassword(credentials.password, user.password);\n                    if (!isPasswordValid) {\n                        logger.warn('Invalid password', {\n                            email: credentials.email,\n                            userId: user.id\n                        });\n                        await (0,_models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.createAuditLog)(user.id, _models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.AuditActions.LOGIN_FAILED, {\n                            details: {\n                                reason: 'Invalid password'\n                            },\n                            ipAddress: req?.headers?.['x-forwarded-for'] || req?.ip,\n                            userAgent: req?.headers?.['user-agent']\n                        });\n                        return null;\n                    }\n                    // Update last login\n                    await _models_User__WEBPACK_IMPORTED_MODULE_1__.User.update(user.id, {\n                        lastLogin: new Date()\n                    });\n                    // Create successful login audit log\n                    await (0,_models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.createAuditLog)(user.id, _models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.AuditActions.LOGIN, {\n                        details: {\n                            loginMethod: 'credentials'\n                        },\n                        ipAddress: req?.headers?.['x-forwarded-for'] || req?.ip,\n                        userAgent: req?.headers?.['user-agent']\n                    });\n                    logger.info('Successful login', {\n                        email: credentials.email,\n                        userId: user.id\n                    });\n                    return {\n                        id: user.id.toString(),\n                        email: user.email,\n                        name: user.name,\n                        role: user.role,\n                        isActive: user.isActive\n                    };\n                } catch (error) {\n                    logger.error('Authentication error', {\n                        error: error instanceof Error ? error.message : 'Unknown error',\n                        email: credentials?.email\n                    });\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    jwt: {\n        maxAge: 30 * 24 * 60 * 60\n    },\n    pages: {\n        signIn: '/login',\n        error: '/login'\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.role = user.role;\n                token.isActive = user.isActive;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.sub;\n                session.user.role = token.role;\n                session.user.isActive = token.isActive;\n            }\n            return session;\n        }\n    },\n    events: {\n        async signOut ({ token }) {\n            if (token?.sub) {\n                logger.info('User signed out', {\n                    userId: token.sub\n                });\n                await (0,_models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.createAuditLog)(parseInt(token.sub), _models_AuditLog__WEBPACK_IMPORTED_MODULE_3__.AuditActions.LOGOUT, {\n                    details: {\n                        logoutMethod: 'manual'\n                    }\n                });\n            }\n        }\n    },\n    debug: \"development\" === 'development'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxDQUFDb0IsSUFBSSxHQUFHVyxNQUFNWCxJQUFJO2dCQUM5QkksUUFBUXhCLElBQUksQ0FBQ1MsUUFBUSxHQUFHc0IsTUFBTXRCLFFBQVE7WUFDeEM7WUFDQSxPQUFPZTtRQUNUO0lBQ0Y7SUFDQVMsUUFBUTtRQUNOLE1BQU1DLFNBQVEsRUFBRUgsS0FBSyxFQUFFO1lBQ3JCLElBQUlBLE9BQU9DLEtBQUs7Z0JBQ2Q3QyxPQUFPWSxJQUFJLENBQUMsbUJBQW1CO29CQUFFVyxRQUFRcUIsTUFBTUMsR0FBRztnQkFBQztnQkFFbkQsTUFBTS9DLGdFQUFjQSxDQUFDa0QsU0FBU0osTUFBTUMsR0FBRyxHQUFHOUMsMERBQVlBLENBQUNrRCxNQUFNLEVBQUU7b0JBQzdEakMsU0FBUzt3QkFBRWtDLGNBQWM7b0JBQVM7Z0JBQ3BDO1lBQ0Y7UUFDRjtJQUNGO0lBQ0FDLE9BQU9DLGtCQUF5QjtBQUNsQyxFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9vay9EZXNrdG9wL3BlcnNvbmFsLXdvcmtzcGFjZS9jaXZpeC1zcWwvYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tIFwibmV4dC1hdXRoXCJcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCJcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiQC9tb2RlbHMvVXNlclwiXG5pbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VMb2dnZXIgfSBmcm9tIFwiQC9saWIvbG9nZ2VyXCJcbmltcG9ydCB7IGNyZWF0ZUF1ZGl0TG9nLCBBdWRpdEFjdGlvbnMgfSBmcm9tIFwiQC9tb2RlbHMvQXVkaXRMb2dcIlxuXG5jb25zdCBsb2dnZXIgPSBjcmVhdGVOYW1lc3BhY2VMb2dnZXIoJ2F1dGgnKTtcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIHByb3ZpZGVyczogW1xuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogXCJjcmVkZW50aWFsc1wiLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6IFwiRW1haWxcIiwgdHlwZTogXCJlbWFpbFwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzLCByZXEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignTWlzc2luZyBjcmVkZW50aWFscyBpbiBsb2dpbiBhdHRlbXB0Jyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsb2dnZXIuaW5mbygnTG9naW4gYXR0ZW1wdCcsIHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0pO1xuXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5RW1haWwoY3JlZGVudGlhbHMuZW1haWwpO1xuICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1VzZXIgbm90IGZvdW5kJywgeyBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhdWRpdCBsb2cgZm9yIGZhaWxlZCBsb2dpblxuICAgICAgICAgICAgYXdhaXQgY3JlYXRlQXVkaXRMb2coMCwgQXVkaXRBY3Rpb25zLkxPR0lOX0ZBSUxFRCwge1xuICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCwgcmVhc29uOiAnVXNlciBub3QgZm91bmQnIH0sXG4gICAgICAgICAgICAgIGlwQWRkcmVzczogcmVxPy5oZWFkZXJzPy5bJ3gtZm9yd2FyZGVkLWZvciddIGFzIHN0cmluZyB8fCByZXE/LmlwLFxuICAgICAgICAgICAgICB1c2VyQWdlbnQ6IHJlcT8uaGVhZGVycz8uWyd1c2VyLWFnZW50J10gYXMgc3RyaW5nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF1c2VyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignSW5hY3RpdmUgdXNlciBsb2dpbiBhdHRlbXB0JywgeyBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsIHVzZXJJZDogdXNlci5pZCB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgY3JlYXRlQXVkaXRMb2codXNlci5pZCwgQXVkaXRBY3Rpb25zLkxPR0lOX0ZBSUxFRCwge1xuICAgICAgICAgICAgICBkZXRhaWxzOiB7IHJlYXNvbjogJ0FjY291bnQgaW5hY3RpdmUnIH0sXG4gICAgICAgICAgICAgIGlwQWRkcmVzczogcmVxPy5oZWFkZXJzPy5bJ3gtZm9yd2FyZGVkLWZvciddIGFzIHN0cmluZyB8fCByZXE/LmlwLFxuICAgICAgICAgICAgICB1c2VyQWdlbnQ6IHJlcT8uaGVhZGVycz8uWyd1c2VyLWFnZW50J10gYXMgc3RyaW5nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgVXNlci5jb21wYXJlUGFzc3dvcmQoY3JlZGVudGlhbHMucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignSW52YWxpZCBwYXNzd29yZCcsIHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsLCB1c2VySWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGF3YWl0IGNyZWF0ZUF1ZGl0TG9nKHVzZXIuaWQsIEF1ZGl0QWN0aW9ucy5MT0dJTl9GQUlMRUQsIHtcbiAgICAgICAgICAgICAgZGV0YWlsczogeyByZWFzb246ICdJbnZhbGlkIHBhc3N3b3JkJyB9LFxuICAgICAgICAgICAgICBpcEFkZHJlc3M6IHJlcT8uaGVhZGVycz8uWyd4LWZvcndhcmRlZC1mb3InXSBhcyBzdHJpbmcgfHwgcmVxPy5pcCxcbiAgICAgICAgICAgICAgdXNlckFnZW50OiByZXE/LmhlYWRlcnM/LlsndXNlci1hZ2VudCddIGFzIHN0cmluZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFVwZGF0ZSBsYXN0IGxvZ2luXG4gICAgICAgICAgYXdhaXQgVXNlci51cGRhdGUodXNlci5pZCwgeyBsYXN0TG9naW46IG5ldyBEYXRlKCkgfSk7XG5cbiAgICAgICAgICAvLyBDcmVhdGUgc3VjY2Vzc2Z1bCBsb2dpbiBhdWRpdCBsb2dcbiAgICAgICAgICBhd2FpdCBjcmVhdGVBdWRpdExvZyh1c2VyLmlkLCBBdWRpdEFjdGlvbnMuTE9HSU4sIHtcbiAgICAgICAgICAgIGRldGFpbHM6IHsgbG9naW5NZXRob2Q6ICdjcmVkZW50aWFscycgfSxcbiAgICAgICAgICAgIGlwQWRkcmVzczogcmVxPy5oZWFkZXJzPy5bJ3gtZm9yd2FyZGVkLWZvciddIGFzIHN0cmluZyB8fCByZXE/LmlwLFxuICAgICAgICAgICAgdXNlckFnZW50OiByZXE/LmhlYWRlcnM/LlsndXNlci1hZ2VudCddIGFzIHN0cmluZ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ1N1Y2Nlc3NmdWwgbG9naW4nLCB7IGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCwgdXNlcklkOiB1c2VyLmlkIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB1c2VyLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgICAgICAgIGlzQWN0aXZlOiB1c2VyLmlzQWN0aXZlXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGxvZ2dlci5lcnJvcignQXV0aGVudGljYXRpb24gZXJyb3InLCB7IFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzPy5lbWFpbCBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIF0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogXCJqd3RcIixcbiAgICBtYXhBZ2U6IDMwICogMjQgKiA2MCAqIDYwLCAvLyAzMCBkYXlzXG4gIH0sXG4gIGp3dDoge1xuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcbiAgfSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvbG9naW4nLFxuICAgIGVycm9yOiAnL2xvZ2luJyxcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4ucm9sZSA9IHVzZXIucm9sZTtcbiAgICAgICAgdG9rZW4uaXNBY3RpdmUgPSB1c2VyLmlzQWN0aXZlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5zdWIgYXMgc3RyaW5nO1xuICAgICAgICBzZXNzaW9uLnVzZXIucm9sZSA9IHRva2VuLnJvbGUgYXMgc3RyaW5nO1xuICAgICAgICBzZXNzaW9uLnVzZXIuaXNBY3RpdmUgPSB0b2tlbi5pc0FjdGl2ZSBhcyBib29sZWFuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcbiAgfSxcbiAgZXZlbnRzOiB7XG4gICAgYXN5bmMgc2lnbk91dCh7IHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbj8uc3ViKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdVc2VyIHNpZ25lZCBvdXQnLCB7IHVzZXJJZDogdG9rZW4uc3ViIH0pO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgY3JlYXRlQXVkaXRMb2cocGFyc2VJbnQodG9rZW4uc3ViKSwgQXVkaXRBY3Rpb25zLkxPR09VVCwge1xuICAgICAgICAgIGRldGFpbHM6IHsgbG9nb3V0TWV0aG9kOiAnbWFudWFsJyB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG4gIGRlYnVnOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jyxcbn07Il0sIm5hbWVzIjpbIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJVc2VyIiwiY3JlYXRlTmFtZXNwYWNlTG9nZ2VyIiwiY3JlYXRlQXVkaXRMb2ciLCJBdWRpdEFjdGlvbnMiLCJsb2dnZXIiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJyZXEiLCJ3YXJuIiwiaW5mbyIsInVzZXIiLCJmaW5kQnlFbWFpbCIsIkxPR0lOX0ZBSUxFRCIsImRldGFpbHMiLCJyZWFzb24iLCJpcEFkZHJlc3MiLCJoZWFkZXJzIiwiaXAiLCJ1c2VyQWdlbnQiLCJpc0FjdGl2ZSIsInVzZXJJZCIsImlkIiwiaXNQYXNzd29yZFZhbGlkIiwiY29tcGFyZVBhc3N3b3JkIiwidXBkYXRlIiwibGFzdExvZ2luIiwiRGF0ZSIsIkxPR0lOIiwibG9naW5NZXRob2QiLCJ0b1N0cmluZyIsInJvbGUiLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsImp3dCIsInBhZ2VzIiwic2lnbkluIiwiY2FsbGJhY2tzIiwidG9rZW4iLCJzdWIiLCJldmVudHMiLCJzaWduT3V0IiwicGFyc2VJbnQiLCJMT0dPVVQiLCJsb2dvdXRNZXRob2QiLCJkZWJ1ZyIsInByb2Nlc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/logger.ts":
/*!***********************!*\
  !*** ./lib/logger.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNamespaceLogger: () => (/* binding */ createNamespaceLogger),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   logger: () => (/* binding */ logger)\n/* harmony export */ });\n/**\n * Logger utility for the application\n */ /**\n * Simple logger for the application\n * In a production environment, this would be replaced with a more robust solution\n * like winston, pino, or other logging libraries\n */ class Logger {\n    /**\n   * Log a debug message\n   * @param message - The message to log\n   * @param payload - Optional additional data to log\n   */ debug(message, payload) {\n        this.log('debug', {\n            message,\n            ...payload\n        });\n    }\n    /**\n   * Log an informational message\n   * @param message - The message to log\n   * @param payload - Optional additional data to log\n   */ info(message, payload) {\n        this.log('info', {\n            message,\n            ...payload\n        });\n    }\n    /**\n   * Log a warning message\n   * @param message - The message to log\n   * @param payload - Optional additional data to log\n   */ warn(message, payload) {\n        this.log('warn', {\n            message,\n            ...payload\n        });\n    }\n    /**\n   * Log an error message\n   * @param message - The message to log\n   * @param payload - Optional additional data to log\n   */ error(message, payload) {\n        this.log('error', {\n            message,\n            ...payload\n        });\n    }\n    /**\n   * Log a message with a specific log level\n   * @param level - The log level\n   * @param payload - The data to log\n   */ log(level, payload) {\n        // Skip logging in test environment\n        if (this.isTest) {\n            return;\n        }\n        // In development, pretty print the log\n        if (this.isDevelopment) {\n            const timestamp = new Date().toISOString();\n            const { message, ...data } = payload;\n            switch(level){\n                case 'debug':\n                    // eslint-disable-next-line no-console\n                    console.debug(`[${timestamp}] 🐛 DEBUG: ${message}`, Object.keys(data).length ? data : '');\n                    break;\n                case 'info':\n                    // eslint-disable-next-line no-console\n                    console.info(`[${timestamp}] ℹ️ INFO: ${message}`, Object.keys(data).length ? data : '');\n                    break;\n                case 'warn':\n                    // eslint-disable-next-line no-console\n                    console.warn(`[${timestamp}] ⚠️ WARN: ${message}`, Object.keys(data).length ? data : '');\n                    break;\n                case 'error':\n                    // eslint-disable-next-line no-console\n                    console.error(`[${timestamp}] 🔴 ERROR: ${message}`, Object.keys(data).length ? data : '');\n                    break;\n            }\n            return;\n        }\n        // In production, use structured logging (JSON format)\n        const logData = {\n            timestamp: new Date().toISOString(),\n            level,\n            ...payload\n        };\n        // In production we would typically use a more robust logging solution\n        // This is a simple fallback\n        switch(level){\n            case 'debug':\n                // eslint-disable-next-line no-console\n                console.debug(JSON.stringify(logData));\n                break;\n            case 'info':\n                // eslint-disable-next-line no-console\n                console.info(JSON.stringify(logData));\n                break;\n            case 'warn':\n                // eslint-disable-next-line no-console\n                console.warn(JSON.stringify(logData));\n                break;\n            case 'error':\n                // eslint-disable-next-line no-console\n                console.error(JSON.stringify(logData));\n                break;\n        }\n    }\n    constructor(){\n        this.isDevelopment = \"development\" === 'development';\n        this.isTest = \"development\" === 'test';\n    }\n}\n// Create a singleton logger instance\nconst logger = new Logger();\n/**\n * Create a namespace logger that includes a namespace in all logs\n * @param namespace - The namespace to include in logs\n */ const createNamespaceLogger = (namespace)=>{\n    return {\n        debug: (message, payload)=>logger.debug(message, {\n                namespace,\n                ...payload\n            }),\n        info: (message, payload)=>logger.info(message, {\n                namespace,\n                ...payload\n            }),\n        warn: (message, payload)=>logger.warn(message, {\n                namespace,\n                ...payload\n            }),\n        error: (message, payload)=>logger.error(message, {\n                namespace,\n                ...payload\n            })\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0JBQXlCOztBQXVHNUM7QUFFQSxxQ0FBcUM7QUFDOUIsTUFBTUMsU0FBUyxJQUFJdkIsU0FBUztBQUVuQzs7O0NBR0MsR0FDTSxNQUFNd0Isd0JBQXdCLENBQUNDO0lBQ3BDLE9BQU87UUFDTHhCLE9BQU8sQ0FBQ0MsU0FBaUJDLFVBQXNDb0IsT0FBT3RCLEtBQUssQ0FBQ0MsU0FBUztnQkFBRXVCO2dCQUFXLEdBQUd0QixPQUFPO1lBQUM7UUFDN0dFLE1BQU0sQ0FBQ0gsU0FBaUJDLFVBQXNDb0IsT0FBT2xCLElBQUksQ0FBQ0gsU0FBUztnQkFBRXVCO2dCQUFXLEdBQUd0QixPQUFPO1lBQUM7UUFDM0dHLE1BQU0sQ0FBQ0osU0FBaUJDLFVBQXNDb0IsT0FBT2pCLElBQUksQ0FBQ0osU0FBUztnQkFBRXVCO2dCQUFXLEdBQUd0QixPQUFPO1lBQUM7UUFDM0dJLE9BQU8sQ0FBQ0wsU0FBaUJDLFVBQXNDb0IsT0FBT2hCLEtBQUssQ0FBQ0wsU0FBUztnQkFBRXVCO2dCQUFXLEdBQUd0QixPQUFPO1lBQUM7SUFDL0c7QUFDRixFQUFFO0FBRUYsaUVBQWVvQixNQUFNQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9vay9EZXNrdG9wL3BlcnNvbmFsLXdvcmtzcGFjZS9jaXZpeC1zcWwvbGliL2xvZ2dlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExvZ2dlciB1dGlsaXR5IGZvciB0aGUgYXBwbGljYXRpb25cbiAqL1xuXG50eXBlIExvZ0xldmVsID0gJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG5cbmludGVyZmFjZSBMb2dQYXlsb2FkIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xufVxuXG4vKipcbiAqIFNpbXBsZSBsb2dnZXIgZm9yIHRoZSBhcHBsaWNhdGlvblxuICogSW4gYSBwcm9kdWN0aW9uIGVudmlyb25tZW50LCB0aGlzIHdvdWxkIGJlIHJlcGxhY2VkIHdpdGggYSBtb3JlIHJvYnVzdCBzb2x1dGlvblxuICogbGlrZSB3aW5zdG9uLCBwaW5vLCBvciBvdGhlciBsb2dnaW5nIGxpYnJhcmllc1xuICovXG5jbGFzcyBMb2dnZXIge1xuICBwcml2YXRlIGlzRGV2ZWxvcG1lbnQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcbiAgcHJpdmF0ZSBpc1Rlc3QgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnO1xuXG4gIC8qKlxuICAgKiBMb2cgYSBkZWJ1ZyBtZXNzYWdlXG4gICAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gbG9nXG4gICAqIEBwYXJhbSBwYXlsb2FkIC0gT3B0aW9uYWwgYWRkaXRpb25hbCBkYXRhIHRvIGxvZ1xuICAgKi9cbiAgZGVidWcobWVzc2FnZTogc3RyaW5nLCBwYXlsb2FkPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB2b2lkIHtcbiAgICB0aGlzLmxvZygnZGVidWcnLCB7IG1lc3NhZ2UsIC4uLnBheWxvYWQgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIGFuIGluZm9ybWF0aW9uYWwgbWVzc2FnZVxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIGxvZ1xuICAgKiBAcGFyYW0gcGF5bG9hZCAtIE9wdGlvbmFsIGFkZGl0aW9uYWwgZGF0YSB0byBsb2dcbiAgICovXG4gIGluZm8obWVzc2FnZTogc3RyaW5nLCBwYXlsb2FkPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB2b2lkIHtcbiAgICB0aGlzLmxvZygnaW5mbycsIHsgbWVzc2FnZSwgLi4ucGF5bG9hZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgYSB3YXJuaW5nIG1lc3NhZ2VcbiAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBsb2dcbiAgICogQHBhcmFtIHBheWxvYWQgLSBPcHRpb25hbCBhZGRpdGlvbmFsIGRhdGEgdG8gbG9nXG4gICAqL1xuICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgcGF5bG9hZD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogdm9pZCB7XG4gICAgdGhpcy5sb2coJ3dhcm4nLCB7IG1lc3NhZ2UsIC4uLnBheWxvYWQgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIGFuIGVycm9yIG1lc3NhZ2VcbiAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBsb2dcbiAgICogQHBhcmFtIHBheWxvYWQgLSBPcHRpb25hbCBhZGRpdGlvbmFsIGRhdGEgdG8gbG9nXG4gICAqL1xuICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIHBheWxvYWQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IHZvaWQge1xuICAgIHRoaXMubG9nKCdlcnJvcicsIHsgbWVzc2FnZSwgLi4ucGF5bG9hZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgYSBtZXNzYWdlIHdpdGggYSBzcGVjaWZpYyBsb2cgbGV2ZWxcbiAgICogQHBhcmFtIGxldmVsIC0gVGhlIGxvZyBsZXZlbFxuICAgKiBAcGFyYW0gcGF5bG9hZCAtIFRoZSBkYXRhIHRvIGxvZ1xuICAgKi9cbiAgcHJpdmF0ZSBsb2cobGV2ZWw6IExvZ0xldmVsLCBwYXlsb2FkOiBMb2dQYXlsb2FkKTogdm9pZCB7XG4gICAgLy8gU2tpcCBsb2dnaW5nIGluIHRlc3QgZW52aXJvbm1lbnRcbiAgICBpZiAodGhpcy5pc1Rlc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJbiBkZXZlbG9wbWVudCwgcHJldHR5IHByaW50IHRoZSBsb2dcbiAgICBpZiAodGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICBjb25zdCB7IG1lc3NhZ2UsIC4uLmRhdGEgfSA9IHBheWxvYWQ7XG4gICAgICBcbiAgICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgICAgY2FzZSAnZGVidWcnOlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS5kZWJ1ZyhgWyR7dGltZXN0YW1wfV0g8J+QmyBERUJVRzogJHttZXNzYWdlfWAsIE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA/IGRhdGEgOiAnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS5pbmZvKGBbJHt0aW1lc3RhbXB9XSDihLnvuI8gSU5GTzogJHttZXNzYWdlfWAsIE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA/IGRhdGEgOiAnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS53YXJuKGBbJHt0aW1lc3RhbXB9XSDimqDvuI8gV0FSTjogJHttZXNzYWdlfWAsIE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA/IGRhdGEgOiAnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RpbWVzdGFtcH1dIPCflLQgRVJST1I6ICR7bWVzc2FnZX1gLCBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPyBkYXRhIDogJycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluIHByb2R1Y3Rpb24sIHVzZSBzdHJ1Y3R1cmVkIGxvZ2dpbmcgKEpTT04gZm9ybWF0KVxuICAgIGNvbnN0IGxvZ0RhdGEgPSB7XG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGxldmVsLFxuICAgICAgLi4ucGF5bG9hZCxcbiAgICB9O1xuXG4gICAgLy8gSW4gcHJvZHVjdGlvbiB3ZSB3b3VsZCB0eXBpY2FsbHkgdXNlIGEgbW9yZSByb2J1c3QgbG9nZ2luZyBzb2x1dGlvblxuICAgIC8vIFRoaXMgaXMgYSBzaW1wbGUgZmFsbGJhY2tcbiAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICBjYXNlICdkZWJ1Zyc6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUuZGVidWcoSlNPTi5zdHJpbmdpZnkobG9nRGF0YSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmluZm8oSlNPTi5zdHJpbmdpZnkobG9nRGF0YSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oSlNPTi5zdHJpbmdpZnkobG9nRGF0YSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5lcnJvcihKU09OLnN0cmluZ2lmeShsb2dEYXRhKSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vLyBDcmVhdGUgYSBzaW5nbGV0b24gbG9nZ2VyIGluc3RhbmNlXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5hbWVzcGFjZSBsb2dnZXIgdGhhdCBpbmNsdWRlcyBhIG5hbWVzcGFjZSBpbiBhbGwgbG9nc1xuICogQHBhcmFtIG5hbWVzcGFjZSAtIFRoZSBuYW1lc3BhY2UgdG8gaW5jbHVkZSBpbiBsb2dzXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVOYW1lc3BhY2VMb2dnZXIgPSAobmFtZXNwYWNlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBkZWJ1ZzogKG1lc3NhZ2U6IHN0cmluZywgcGF5bG9hZD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBsb2dnZXIuZGVidWcobWVzc2FnZSwgeyBuYW1lc3BhY2UsIC4uLnBheWxvYWQgfSksXG4gICAgaW5mbzogKG1lc3NhZ2U6IHN0cmluZywgcGF5bG9hZD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBsb2dnZXIuaW5mbyhtZXNzYWdlLCB7IG5hbWVzcGFjZSwgLi4ucGF5bG9hZCB9KSxcbiAgICB3YXJuOiAobWVzc2FnZTogc3RyaW5nLCBwYXlsb2FkPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IGxvZ2dlci53YXJuKG1lc3NhZ2UsIHsgbmFtZXNwYWNlLCAuLi5wYXlsb2FkIH0pLFxuICAgIGVycm9yOiAobWVzc2FnZTogc3RyaW5nLCBwYXlsb2FkPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IGxvZ2dlci5lcnJvcihtZXNzYWdlLCB7IG5hbWVzcGFjZSwgLi4ucGF5bG9hZCB9KSxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjsgIl0sIm5hbWVzIjpbIkxvZ2dlciIsImRlYnVnIiwibWVzc2FnZSIsInBheWxvYWQiLCJsb2ciLCJpbmZvIiwid2FybiIsImVycm9yIiwibGV2ZWwiLCJpc1Rlc3QiLCJpc0RldmVsb3BtZW50IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZGF0YSIsImNvbnNvbGUiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibG9nRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9jZXNzIiwibG9nZ2VyIiwiY3JlYXRlTmFtZXNwYWNlTG9nZ2VyIiwibmFtZXNwYWNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/logger.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mysql.ts":
/*!**********************!*\
  !*** ./lib/mysql.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkConnection: () => (/* binding */ checkConnection),\n/* harmony export */   closePool: () => (/* binding */ closePool),\n/* harmony export */   executeQuery: () => (/* binding */ executeQuery),\n/* harmony export */   getConnection: () => (/* binding */ getConnection)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */ \"(rsc)/./lib/logger.ts\");\n\n\nconst dbLogger = (0,_logger__WEBPACK_IMPORTED_MODULE_1__.createNamespaceLogger)('mysql-database');\n// MySQL connection configuration for cPanel hosting\nconst dbConfig = {\n    host: process.env.DB_HOST || 'localhost',\n    user: process.env.DB_USER || 'root',\n    password: process.env.DB_PASSWORD || '',\n    database: process.env.DB_NAME || 'civix_production',\n    port: parseInt(process.env.DB_PORT || '3306'),\n    connectionLimit: 10,\n    acquireTimeout: 60000,\n    timeout: 60000,\n    reconnect: true,\n    charset: 'utf8mb4'\n};\n// Create connection pool\nlet pool = null;\nasync function getConnection() {\n    try {\n        if (!pool) {\n            pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool(dbConfig);\n            dbLogger.info('MySQL connection pool created successfully');\n        }\n        const connection = await pool.getConnection();\n        dbLogger.debug('MySQL connection acquired from pool');\n        return connection;\n    } catch (error) {\n        dbLogger.error('MySQL connection error', {\n            error: error instanceof Error ? error.message : 'Unknown error',\n            config: {\n                host: dbConfig.host,\n                database: dbConfig.database,\n                port: dbConfig.port\n            }\n        });\n        throw error;\n    }\n}\nasync function executeQuery(query, params = []) {\n    let connection;\n    try {\n        connection = await getConnection();\n        const [rows] = await connection.execute(query, params);\n        dbLogger.debug('Query executed successfully', {\n            query,\n            params\n        });\n        return rows;\n    } catch (error) {\n        dbLogger.error('Query execution error', {\n            error: error instanceof Error ? error.message : 'Unknown error',\n            query,\n            params\n        });\n        throw error;\n    } finally{\n        if (connection) {\n            connection.release();\n            dbLogger.debug('MySQL connection released back to pool');\n        }\n    }\n}\nasync function closePool() {\n    if (pool) {\n        await pool.end();\n        pool = null;\n        dbLogger.info('MySQL connection pool closed');\n    }\n}\n// Health check function\nasync function checkConnection() {\n    try {\n        const connection = await getConnection();\n        await connection.ping();\n        connection.release();\n        return true;\n    } catch (error) {\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbXlzcWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW1DO0FBQ2M7QUFFakQsTUFBTUUsV0FBV0QsOERBQXFCQSxDQUFDO0FBRXZDLG9EQUFvRDtBQUNwRCxNQUFNRSxXQUFXO0lBQ2ZDLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsT0FBTyxJQUFJO0lBQzdCQyxNQUFNSCxRQUFRQyxHQUFHLENBQUNHLE9BQU8sSUFBSTtJQUM3QkMsVUFBVUwsUUFBUUMsR0FBRyxDQUFDSyxXQUFXLElBQUk7SUFDckNDLFVBQVVQLFFBQVFDLEdBQUcsQ0FBQ08sT0FBTyxJQUFJO0lBQ2pDQyxNQUFNQyxTQUFTVixRQUFRQyxHQUFHLENBQUNVLE9BQU8sSUFBSTtJQUN0Q0MsaUJBQWlCO0lBQ2pCQyxnQkFBZ0I7SUFDaEJDLFNBQVM7SUFDVEMsV0FBVztJQUNYQyxTQUFTO0FBQ1g7QUFFQSx5QkFBeUI7QUFDekIsSUFBSUMsT0FBMEI7QUFFdkIsZUFBZUM7SUFDcEIsSUFBSTtRQUNGLElBQUksQ0FBQ0QsTUFBTTtZQUNUQSxPQUFPdEIsc0RBQWdCLENBQUNHO1lBQ3hCRCxTQUFTdUIsSUFBSSxDQUFDO1FBQ2hCO1FBRUEsTUFBTUMsYUFBYSxNQUFNSixLQUFLQyxhQUFhO1FBQzNDckIsU0FBU3lCLEtBQUssQ0FBQztRQUNmLE9BQU9EO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2QxQixTQUFTMEIsS0FBSyxDQUFDLDBCQUEwQjtZQUN2Q0EsT0FBT0EsaUJBQWlCQyxRQUFRRCxNQUFNRSxPQUFPLEdBQUc7WUFDaERDLFFBQVE7Z0JBQ04zQixNQUFNRCxTQUFTQyxJQUFJO2dCQUNuQlEsVUFBVVQsU0FBU1MsUUFBUTtnQkFDM0JFLE1BQU1YLFNBQVNXLElBQUk7WUFDckI7UUFDRjtRQUNBLE1BQU1jO0lBQ1I7QUFDRjtBQUVPLGVBQWVJLGFBQ3BCQyxLQUFhLEVBQ2JDLFNBQWdCLEVBQUU7SUFFbEIsSUFBSVI7SUFDSixJQUFJO1FBQ0ZBLGFBQWEsTUFBTUg7UUFDbkIsTUFBTSxDQUFDWSxLQUFLLEdBQUcsTUFBTVQsV0FBV1UsT0FBTyxDQUFDSCxPQUFPQztRQUMvQ2hDLFNBQVN5QixLQUFLLENBQUMsK0JBQStCO1lBQUVNO1lBQU9DO1FBQU87UUFDOUQsT0FBT0M7SUFDVCxFQUFFLE9BQU9QLE9BQU87UUFDZDFCLFNBQVMwQixLQUFLLENBQUMseUJBQXlCO1lBQ3RDQSxPQUFPQSxpQkFBaUJDLFFBQVFELE1BQU1FLE9BQU8sR0FBRztZQUNoREc7WUFDQUM7UUFDRjtRQUNBLE1BQU1OO0lBQ1IsU0FBVTtRQUNSLElBQUlGLFlBQVk7WUFDZEEsV0FBV1csT0FBTztZQUNsQm5DLFNBQVN5QixLQUFLLENBQUM7UUFDakI7SUFDRjtBQUNGO0FBRU8sZUFBZVc7SUFDcEIsSUFBSWhCLE1BQU07UUFDUixNQUFNQSxLQUFLaUIsR0FBRztRQUNkakIsT0FBTztRQUNQcEIsU0FBU3VCLElBQUksQ0FBQztJQUNoQjtBQUNGO0FBRUEsd0JBQXdCO0FBQ2pCLGVBQWVlO0lBQ3BCLElBQUk7UUFDRixNQUFNZCxhQUFhLE1BQU1IO1FBQ3pCLE1BQU1HLFdBQVdlLElBQUk7UUFDckJmLFdBQVdXLE9BQU87UUFDbEIsT0FBTztJQUNULEVBQUUsT0FBT1QsT0FBTztRQUNkLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9vay9EZXNrdG9wL3BlcnNvbmFsLXdvcmtzcGFjZS9jaXZpeC1zcWwvbGliL215c3FsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBteXNxbCBmcm9tICdteXNxbDIvcHJvbWlzZSc7XG5pbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VMb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5cbmNvbnN0IGRiTG9nZ2VyID0gY3JlYXRlTmFtZXNwYWNlTG9nZ2VyKCdteXNxbC1kYXRhYmFzZScpO1xuXG4vLyBNeVNRTCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gZm9yIGNQYW5lbCBob3N0aW5nXG5jb25zdCBkYkNvbmZpZyA9IHtcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCB8fCAnbG9jYWxob3N0JyxcbiAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiB8fCAncm9vdCcsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCB8fCAnJyxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUgfHwgJ2Npdml4X3Byb2R1Y3Rpb24nLFxuICBwb3J0OiBwYXJzZUludChwcm9jZXNzLmVudi5EQl9QT1JUIHx8ICczMzA2JyksXG4gIGNvbm5lY3Rpb25MaW1pdDogMTAsXG4gIGFjcXVpcmVUaW1lb3V0OiA2MDAwMCxcbiAgdGltZW91dDogNjAwMDAsXG4gIHJlY29ubmVjdDogdHJ1ZSxcbiAgY2hhcnNldDogJ3V0ZjhtYjQnXG59O1xuXG4vLyBDcmVhdGUgY29ubmVjdGlvbiBwb29sXG5sZXQgcG9vbDogbXlzcWwuUG9vbCB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIXBvb2wpIHtcbiAgICAgIHBvb2wgPSBteXNxbC5jcmVhdGVQb29sKGRiQ29uZmlnKTtcbiAgICAgIGRiTG9nZ2VyLmluZm8oJ015U1FMIGNvbm5lY3Rpb24gcG9vbCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgZGJMb2dnZXIuZGVidWcoJ015U1FMIGNvbm5lY3Rpb24gYWNxdWlyZWQgZnJvbSBwb29sJyk7XG4gICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZGJMb2dnZXIuZXJyb3IoJ015U1FMIGNvbm5lY3Rpb24gZXJyb3InLCB7XG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgaG9zdDogZGJDb25maWcuaG9zdCxcbiAgICAgICAgZGF0YWJhc2U6IGRiQ29uZmlnLmRhdGFiYXNlLFxuICAgICAgICBwb3J0OiBkYkNvbmZpZy5wb3J0XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVRdWVyeTxUID0gYW55PihcbiAgcXVlcnk6IHN0cmluZywgXG4gIHBhcmFtczogYW55W10gPSBbXVxuKTogUHJvbWlzZTxUPiB7XG4gIGxldCBjb25uZWN0aW9uO1xuICB0cnkge1xuICAgIGNvbm5lY3Rpb24gPSBhd2FpdCBnZXRDb25uZWN0aW9uKCk7XG4gICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpO1xuICAgIGRiTG9nZ2VyLmRlYnVnKCdRdWVyeSBleGVjdXRlZCBzdWNjZXNzZnVsbHknLCB7IHF1ZXJ5LCBwYXJhbXMgfSk7XG4gICAgcmV0dXJuIHJvd3MgYXMgVDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBkYkxvZ2dlci5lcnJvcignUXVlcnkgZXhlY3V0aW9uIGVycm9yJywge1xuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgcXVlcnksXG4gICAgICBwYXJhbXNcbiAgICB9KTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBkYkxvZ2dlci5kZWJ1ZygnTXlTUUwgY29ubmVjdGlvbiByZWxlYXNlZCBiYWNrIHRvIHBvb2wnKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlUG9vbCgpIHtcbiAgaWYgKHBvb2wpIHtcbiAgICBhd2FpdCBwb29sLmVuZCgpO1xuICAgIHBvb2wgPSBudWxsO1xuICAgIGRiTG9nZ2VyLmluZm8oJ015U1FMIGNvbm5lY3Rpb24gcG9vbCBjbG9zZWQnKTtcbiAgfVxufVxuXG4vLyBIZWFsdGggY2hlY2sgZnVuY3Rpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0Nvbm5lY3Rpb24oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGdldENvbm5lY3Rpb24oKTtcbiAgICBhd2FpdCBjb25uZWN0aW9uLnBpbmcoKTtcbiAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0iXSwibmFtZXMiOlsibXlzcWwiLCJjcmVhdGVOYW1lc3BhY2VMb2dnZXIiLCJkYkxvZ2dlciIsImRiQ29uZmlnIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9IT1NUIiwidXNlciIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJEQl9OQU1FIiwicG9ydCIsInBhcnNlSW50IiwiREJfUE9SVCIsImNvbm5lY3Rpb25MaW1pdCIsImFjcXVpcmVUaW1lb3V0IiwidGltZW91dCIsInJlY29ubmVjdCIsImNoYXJzZXQiLCJwb29sIiwiZ2V0Q29ubmVjdGlvbiIsImNyZWF0ZVBvb2wiLCJpbmZvIiwiY29ubmVjdGlvbiIsImRlYnVnIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJjb25maWciLCJleGVjdXRlUXVlcnkiLCJxdWVyeSIsInBhcmFtcyIsInJvd3MiLCJleGVjdXRlIiwicmVsZWFzZSIsImNsb3NlUG9vbCIsImVuZCIsImNoZWNrQ29ubmVjdGlvbiIsInBpbmciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mysql.ts\n");

/***/ }),

/***/ "(rsc)/./models/AuditLog.ts":
/*!****************************!*\
  !*** ./models/AuditLog.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuditActions: () => (/* binding */ AuditActions),\n/* harmony export */   AuditLog: () => (/* binding */ AuditLog),\n/* harmony export */   createAuditLog: () => (/* binding */ createAuditLog),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/mysql */ \"(rsc)/./lib/mysql.ts\");\n\n// Define common audit actions as constants\nconst AuditActions = {\n    // Authentication actions\n    LOGIN: \"LOGIN\",\n    LOGOUT: \"LOGOUT\",\n    LOGIN_FAILED: \"LOGIN_FAILED\",\n    PASSWORD_CHANGED: \"PASSWORD_CHANGED\",\n    PASSWORD_RESET_REQUESTED: \"PASSWORD_RESET_REQUESTED\",\n    PASSWORD_RESET_COMPLETED: \"PASSWORD_RESET_COMPLETED\",\n    // User account actions\n    USER_CREATED: \"USER_CREATED\",\n    USER_UPDATED: \"USER_UPDATED\",\n    USER_DELETED: \"USER_DELETED\",\n    // Booking actions\n    BOOKING_CREATED: \"BOOKING_CREATED\",\n    BOOKING_UPDATED: \"BOOKING_UPDATED\",\n    BOOKING_CANCELLED: \"BOOKING_CANCELLED\",\n    BOOKING_COMPLETED: \"BOOKING_COMPLETED\",\n    // Service actions\n    SERVICE_CREATED: \"SERVICE_CREATED\",\n    SERVICE_UPDATED: \"SERVICE_UPDATED\",\n    SERVICE_DELETED: \"SERVICE_DELETED\",\n    // Admin actions\n    SETTING_CHANGED: \"SETTING_CHANGED\",\n    ROLE_CHANGED: \"ROLE_CHANGED\"\n};\nclass AuditLog {\n    // Create audit log entry\n    static async create(auditData) {\n        try {\n            const query = `\n        INSERT INTO audit_logs (\n          userId, action, entityId, entityType, details, ipAddress, userAgent\n        ) VALUES (?, ?, ?, ?, ?, ?, ?)\n      `;\n            const params = [\n                auditData.userId,\n                auditData.action,\n                auditData.entityId || null,\n                auditData.entityType || null,\n                auditData.details || null,\n                auditData.ipAddress || null,\n                auditData.userAgent || null\n            ];\n            const result = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_0__.executeQuery)(query, params);\n            return await AuditLog.findById(result.insertId);\n        } catch (error) {\n            // Non-blocking - we don't want to fail operations if audit logging fails\n            console.warn('Audit log creation failed:', error);\n            return null;\n        }\n    }\n    // Find audit log by ID\n    static async findById(id) {\n        const query = 'SELECT * FROM audit_logs WHERE id = ?';\n        const logs = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_0__.executeQuery)(query, [\n            id\n        ]);\n        if (logs.length === 0) return null;\n        const log = logs[0];\n        if (log.details && typeof log.details === 'string') {\n            try {\n                log.details = JSON.parse(log.details);\n            } catch  {\n                log.details = undefined;\n            }\n        }\n        return log;\n    }\n    // Find audit logs with filters and pagination\n    static async find(filters = {}, options = {}) {\n        let query = 'SELECT * FROM audit_logs WHERE 1=1';\n        const params = [];\n        // Apply filters\n        if (filters.userId) {\n            query += ' AND userId = ?';\n            params.push(filters.userId);\n        }\n        if (filters.action) {\n            query += ' AND action = ?';\n            params.push(filters.action);\n        }\n        if (filters.entityType) {\n            query += ' AND entityType = ?';\n            params.push(filters.entityType);\n        }\n        if (filters.dateFrom) {\n            query += ' AND createdAt >= ?';\n            params.push(filters.dateFrom);\n        }\n        if (filters.dateTo) {\n            query += ' AND createdAt <= ?';\n            params.push(filters.dateTo);\n        }\n        // Get total count\n        const countQuery = query.replace('SELECT *', 'SELECT COUNT(*) as count');\n        const countResult = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_0__.executeQuery)(countQuery, params);\n        const total = countResult[0].count;\n        // Apply sorting and pagination\n        const sort = options.sort || 'createdAt';\n        const order = options.order || 'DESC';\n        query += ` ORDER BY ${sort} ${order}`;\n        if (options.limit) {\n            const offset = ((options.page || 1) - 1) * options.limit;\n            query += ' LIMIT ? OFFSET ?';\n            params.push(options.limit, offset);\n        }\n        const logs = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_0__.executeQuery)(query, params);\n        // Parse details for each log\n        logs.forEach((log)=>{\n            if (log.details && typeof log.details === 'string') {\n                try {\n                    log.details = JSON.parse(log.details);\n                } catch  {\n                    log.details = undefined;\n                }\n            }\n        });\n        return {\n            logs,\n            total\n        };\n    }\n    // Delete old logs (cleanup)\n    static async cleanup(olderThanDays = 90) {\n        const query = 'DELETE FROM audit_logs WHERE createdAt < DATE_SUB(NOW(), INTERVAL ? DAY)';\n        const result = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_0__.executeQuery)(query, [\n            olderThanDays\n        ]);\n        return result.affectedRows;\n    }\n}\n// Create audit log utility function\nconst createAuditLog = async (userId, action, data)=>{\n    try {\n        return await AuditLog.create({\n            userId,\n            action,\n            entityId: data.entityId,\n            entityType: data.entityType,\n            details: data.details ? JSON.stringify(data.details) : undefined,\n            ipAddress: data.ipAddress,\n            userAgent: data.userAgent\n        });\n    } catch (error) {\n        // Non-blocking - we don't want to fail operations if audit logging fails\n        console.warn('Audit log creation failed:', error);\n        return null;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuditLog);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQ0F3QztJQVFBLElBQUk7UUFDRixPQUFPLE1BQU05QyxTQUFTQyxNQUFNLENBQUM7WUFDM0JJO1lBQ0FDO1lBQ0FDLFVBQVV1QyxLQUFLdkMsUUFBUTtZQUN2QkMsWUFBWXNDLEtBQUt0QyxVQUFVO1lBQzNCQyxTQUFTcUMsS0FBS3JDLE9BQU8sR0FBR2EsS0FBS3lCLFNBQVMsQ0FBQ0QsS0FBS3JDLE9BQU8sSUFBSWU7WUFDdkRkLFdBQVdvQyxLQUFLcEMsU0FBUztZQUN6QkMsV0FBV21DLEtBQUtuQyxTQUFTO1FBQzNCO0lBQ0YsRUFBRSxPQUFPSSxPQUFPO1FBQ2QseUVBQXlFO1FBQ3pFQyxRQUFRQyxJQUFJLENBQUMsOEJBQThCRjtRQUMzQyxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUYsaUVBQWVmLFFBQVFBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvcGVyc29uYWwtd29ya3NwYWNlL2Npdml4LXNxbC9tb2RlbHMvQXVkaXRMb2cudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhlY3V0ZVF1ZXJ5IH0gZnJvbSBcIkAvbGliL215c3FsXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUF1ZGl0TG9nIHtcbiAgaWQ6IG51bWJlcjtcbiAgdXNlcklkOiBudW1iZXI7XG4gIGFjdGlvbjogc3RyaW5nO1xuICBlbnRpdHlJZD86IG51bWJlcjtcbiAgZW50aXR5VHlwZT86IHN0cmluZztcbiAgZGV0YWlscz86IHN0cmluZzsgLy8gSlNPTiBzdHJpbmdcbiAgaXBBZGRyZXNzPzogc3RyaW5nO1xuICB1c2VyQWdlbnQ/OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbn1cblxuLy8gRGVmaW5lIGNvbW1vbiBhdWRpdCBhY3Rpb25zIGFzIGNvbnN0YW50c1xuZXhwb3J0IGNvbnN0IEF1ZGl0QWN0aW9ucyA9IHtcbiAgLy8gQXV0aGVudGljYXRpb24gYWN0aW9uc1xuICBMT0dJTjogXCJMT0dJTlwiLFxuICBMT0dPVVQ6IFwiTE9HT1VUXCIsXG4gIExPR0lOX0ZBSUxFRDogXCJMT0dJTl9GQUlMRURcIixcbiAgUEFTU1dPUkRfQ0hBTkdFRDogXCJQQVNTV09SRF9DSEFOR0VEXCIsXG4gIFBBU1NXT1JEX1JFU0VUX1JFUVVFU1RFRDogXCJQQVNTV09SRF9SRVNFVF9SRVFVRVNURURcIixcbiAgUEFTU1dPUkRfUkVTRVRfQ09NUExFVEVEOiBcIlBBU1NXT1JEX1JFU0VUX0NPTVBMRVRFRFwiLFxuICBcbiAgLy8gVXNlciBhY2NvdW50IGFjdGlvbnNcbiAgVVNFUl9DUkVBVEVEOiBcIlVTRVJfQ1JFQVRFRFwiLFxuICBVU0VSX1VQREFURUQ6IFwiVVNFUl9VUERBVEVEXCIsXG4gIFVTRVJfREVMRVRFRDogXCJVU0VSX0RFTEVURURcIixcbiAgXG4gIC8vIEJvb2tpbmcgYWN0aW9uc1xuICBCT09LSU5HX0NSRUFURUQ6IFwiQk9PS0lOR19DUkVBVEVEXCIsXG4gIEJPT0tJTkdfVVBEQVRFRDogXCJCT09LSU5HX1VQREFURURcIixcbiAgQk9PS0lOR19DQU5DRUxMRUQ6IFwiQk9PS0lOR19DQU5DRUxMRURcIixcbiAgQk9PS0lOR19DT01QTEVURUQ6IFwiQk9PS0lOR19DT01QTEVURURcIixcbiAgXG4gIC8vIFNlcnZpY2UgYWN0aW9uc1xuICBTRVJWSUNFX0NSRUFURUQ6IFwiU0VSVklDRV9DUkVBVEVEXCIsXG4gIFNFUlZJQ0VfVVBEQVRFRDogXCJTRVJWSUNFX1VQREFURURcIixcbiAgU0VSVklDRV9ERUxFVEVEOiBcIlNFUlZJQ0VfREVMRVRFRFwiLFxuICBcbiAgLy8gQWRtaW4gYWN0aW9uc1xuICBTRVRUSU5HX0NIQU5HRUQ6IFwiU0VUVElOR19DSEFOR0VEXCIsXG4gIFJPTEVfQ0hBTkdFRDogXCJST0xFX0NIQU5HRURcIixcbn07XG5cbmV4cG9ydCBjbGFzcyBBdWRpdExvZyB7XG4gIC8vIENyZWF0ZSBhdWRpdCBsb2cgZW50cnlcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZShhdWRpdERhdGE6IE9taXQ8SUF1ZGl0TG9nLCAnaWQnIHwgJ2NyZWF0ZWRBdCc+KTogUHJvbWlzZTxJQXVkaXRMb2c+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICAgIElOU0VSVCBJTlRPIGF1ZGl0X2xvZ3MgKFxuICAgICAgICAgIHVzZXJJZCwgYWN0aW9uLCBlbnRpdHlJZCwgZW50aXR5VHlwZSwgZGV0YWlscywgaXBBZGRyZXNzLCB1c2VyQWdlbnRcbiAgICAgICAgKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pXG4gICAgICBgO1xuICAgICAgXG4gICAgICBjb25zdCBwYXJhbXMgPSBbXG4gICAgICAgIGF1ZGl0RGF0YS51c2VySWQsXG4gICAgICAgIGF1ZGl0RGF0YS5hY3Rpb24sXG4gICAgICAgIGF1ZGl0RGF0YS5lbnRpdHlJZCB8fCBudWxsLFxuICAgICAgICBhdWRpdERhdGEuZW50aXR5VHlwZSB8fCBudWxsLFxuICAgICAgICBhdWRpdERhdGEuZGV0YWlscyB8fCBudWxsLFxuICAgICAgICBhdWRpdERhdGEuaXBBZGRyZXNzIHx8IG51bGwsXG4gICAgICAgIGF1ZGl0RGF0YS51c2VyQWdlbnQgfHwgbnVsbFxuICAgICAgXTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBleGVjdXRlUXVlcnkocXVlcnksIHBhcmFtcyk7XG4gICAgICByZXR1cm4gYXdhaXQgQXVkaXRMb2cuZmluZEJ5SWQocmVzdWx0Lmluc2VydElkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gTm9uLWJsb2NraW5nIC0gd2UgZG9uJ3Qgd2FudCB0byBmYWlsIG9wZXJhdGlvbnMgaWYgYXVkaXQgbG9nZ2luZyBmYWlsc1xuICAgICAgY29uc29sZS53YXJuKCdBdWRpdCBsb2cgY3JlYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgYXVkaXQgbG9nIGJ5IElEXG4gIHN0YXRpYyBhc3luYyBmaW5kQnlJZChpZDogbnVtYmVyKTogUHJvbWlzZTxJQXVkaXRMb2cgfCBudWxsPiB7XG4gICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUICogRlJPTSBhdWRpdF9sb2dzIFdIRVJFIGlkID0gPyc7XG4gICAgY29uc3QgbG9nczogSUF1ZGl0TG9nW10gPSBhd2FpdCBleGVjdXRlUXVlcnkocXVlcnksIFtpZF0pO1xuICAgIFxuICAgIGlmIChsb2dzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgY29uc3QgbG9nID0gbG9nc1swXTtcbiAgICBpZiAobG9nLmRldGFpbHMgJiYgdHlwZW9mIGxvZy5kZXRhaWxzID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbG9nLmRldGFpbHMgPSBKU09OLnBhcnNlKGxvZy5kZXRhaWxzKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBsb2cuZGV0YWlscyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGxvZztcbiAgfVxuXG4gIC8vIEZpbmQgYXVkaXQgbG9ncyB3aXRoIGZpbHRlcnMgYW5kIHBhZ2luYXRpb25cbiAgc3RhdGljIGFzeW5jIGZpbmQoXG4gICAgZmlsdGVyczoge1xuICAgICAgdXNlcklkPzogbnVtYmVyO1xuICAgICAgYWN0aW9uPzogc3RyaW5nO1xuICAgICAgZW50aXR5VHlwZT86IHN0cmluZztcbiAgICAgIGRhdGVGcm9tPzogRGF0ZTtcbiAgICAgIGRhdGVUbz86IERhdGU7XG4gICAgfSA9IHt9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHBhZ2U/OiBudW1iZXI7XG4gICAgICBsaW1pdD86IG51bWJlcjtcbiAgICAgIHNvcnQ/OiBzdHJpbmc7XG4gICAgICBvcmRlcj86ICdBU0MnIHwgJ0RFU0MnO1xuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPHsgbG9nczogSUF1ZGl0TG9nW107IHRvdGFsOiBudW1iZXIgfT4ge1xuICAgIGxldCBxdWVyeSA9ICdTRUxFQ1QgKiBGUk9NIGF1ZGl0X2xvZ3MgV0hFUkUgMT0xJztcbiAgICBjb25zdCBwYXJhbXM6IGFueVtdID0gW107XG4gICAgXG4gICAgLy8gQXBwbHkgZmlsdGVyc1xuICAgIGlmIChmaWx0ZXJzLnVzZXJJZCkge1xuICAgICAgcXVlcnkgKz0gJyBBTkQgdXNlcklkID0gPyc7XG4gICAgICBwYXJhbXMucHVzaChmaWx0ZXJzLnVzZXJJZCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChmaWx0ZXJzLmFjdGlvbikge1xuICAgICAgcXVlcnkgKz0gJyBBTkQgYWN0aW9uID0gPyc7XG4gICAgICBwYXJhbXMucHVzaChmaWx0ZXJzLmFjdGlvbik7XG4gICAgfVxuICAgIFxuICAgIGlmIChmaWx0ZXJzLmVudGl0eVR5cGUpIHtcbiAgICAgIHF1ZXJ5ICs9ICcgQU5EIGVudGl0eVR5cGUgPSA/JztcbiAgICAgIHBhcmFtcy5wdXNoKGZpbHRlcnMuZW50aXR5VHlwZSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChmaWx0ZXJzLmRhdGVGcm9tKSB7XG4gICAgICBxdWVyeSArPSAnIEFORCBjcmVhdGVkQXQgPj0gPyc7XG4gICAgICBwYXJhbXMucHVzaChmaWx0ZXJzLmRhdGVGcm9tKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGZpbHRlcnMuZGF0ZVRvKSB7XG4gICAgICBxdWVyeSArPSAnIEFORCBjcmVhdGVkQXQgPD0gPyc7XG4gICAgICBwYXJhbXMucHVzaChmaWx0ZXJzLmRhdGVUbyk7XG4gICAgfVxuICAgIFxuICAgIC8vIEdldCB0b3RhbCBjb3VudFxuICAgIGNvbnN0IGNvdW50UXVlcnkgPSBxdWVyeS5yZXBsYWNlKCdTRUxFQ1QgKicsICdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQnKTtcbiAgICBjb25zdCBjb3VudFJlc3VsdDogYW55W10gPSBhd2FpdCBleGVjdXRlUXVlcnkoY291bnRRdWVyeSwgcGFyYW1zKTtcbiAgICBjb25zdCB0b3RhbCA9IGNvdW50UmVzdWx0WzBdLmNvdW50O1xuICAgIFxuICAgIC8vIEFwcGx5IHNvcnRpbmcgYW5kIHBhZ2luYXRpb25cbiAgICBjb25zdCBzb3J0ID0gb3B0aW9ucy5zb3J0IHx8ICdjcmVhdGVkQXQnO1xuICAgIGNvbnN0IG9yZGVyID0gb3B0aW9ucy5vcmRlciB8fCAnREVTQyc7XG4gICAgcXVlcnkgKz0gYCBPUkRFUiBCWSAke3NvcnR9ICR7b3JkZXJ9YDtcbiAgICBcbiAgICBpZiAob3B0aW9ucy5saW1pdCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gKChvcHRpb25zLnBhZ2UgfHwgMSkgLSAxKSAqIG9wdGlvbnMubGltaXQ7XG4gICAgICBxdWVyeSArPSAnIExJTUlUID8gT0ZGU0VUID8nO1xuICAgICAgcGFyYW1zLnB1c2gob3B0aW9ucy5saW1pdCwgb2Zmc2V0KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbG9nczogSUF1ZGl0TG9nW10gPSBhd2FpdCBleGVjdXRlUXVlcnkocXVlcnksIHBhcmFtcyk7XG4gICAgXG4gICAgLy8gUGFyc2UgZGV0YWlscyBmb3IgZWFjaCBsb2dcbiAgICBsb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICAgIGlmIChsb2cuZGV0YWlscyAmJiB0eXBlb2YgbG9nLmRldGFpbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbG9nLmRldGFpbHMgPSBKU09OLnBhcnNlKGxvZy5kZXRhaWxzKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgbG9nLmRldGFpbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4geyBsb2dzLCB0b3RhbCB9O1xuICB9XG5cbiAgLy8gRGVsZXRlIG9sZCBsb2dzIChjbGVhbnVwKVxuICBzdGF0aWMgYXN5bmMgY2xlYW51cChvbGRlclRoYW5EYXlzOiBudW1iZXIgPSA5MCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3QgcXVlcnkgPSAnREVMRVRFIEZST00gYXVkaXRfbG9ncyBXSEVSRSBjcmVhdGVkQXQgPCBEQVRFX1NVQihOT1coKSwgSU5URVJWQUwgPyBEQVkpJztcbiAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGV4ZWN1dGVRdWVyeShxdWVyeSwgW29sZGVyVGhhbkRheXNdKTtcbiAgICByZXR1cm4gcmVzdWx0LmFmZmVjdGVkUm93cztcbiAgfVxufVxuXG4vLyBDcmVhdGUgYXVkaXQgbG9nIHV0aWxpdHkgZnVuY3Rpb25cbmV4cG9ydCBjb25zdCBjcmVhdGVBdWRpdExvZyA9IGFzeW5jIChcbiAgdXNlcklkOiBudW1iZXIsXG4gIGFjdGlvbjogc3RyaW5nLFxuICBkYXRhOiB7XG4gICAgZW50aXR5SWQ/OiBudW1iZXI7XG4gICAgZW50aXR5VHlwZT86IHN0cmluZztcbiAgICBkZXRhaWxzPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICBpcEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgdXNlckFnZW50Pzogc3RyaW5nO1xuICB9XG4pID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgQXVkaXRMb2cuY3JlYXRlKHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIGFjdGlvbixcbiAgICAgIGVudGl0eUlkOiBkYXRhLmVudGl0eUlkLFxuICAgICAgZW50aXR5VHlwZTogZGF0YS5lbnRpdHlUeXBlLFxuICAgICAgZGV0YWlsczogZGF0YS5kZXRhaWxzID8gSlNPTi5zdHJpbmdpZnkoZGF0YS5kZXRhaWxzKSA6IHVuZGVmaW5lZCxcbiAgICAgIGlwQWRkcmVzczogZGF0YS5pcEFkZHJlc3MsXG4gICAgICB1c2VyQWdlbnQ6IGRhdGEudXNlckFnZW50LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIE5vbi1ibG9ja2luZyAtIHdlIGRvbid0IHdhbnQgdG8gZmFpbCBvcGVyYXRpb25zIGlmIGF1ZGl0IGxvZ2dpbmcgZmFpbHNcbiAgICBjb25zb2xlLndhcm4oJ0F1ZGl0IGxvZyBjcmVhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBdWRpdExvZzsiXSwibmFtZXMiOlsiZXhlY3V0ZVF1ZXJ5IiwiQXVkaXRBY3Rpb25zIiwiTE9HSU4iLCJMT0dPVVQiLCJMT0dJTl9GQUlMRUQiLCJQQVNTV09SRF9DSEFOR0VEIiwiUEFTU1dPUkRfUkVTRVRfUkVRVUVTVEVEIiwiUEFTU1dPUkRfUkVTRVRfQ09NUExFVEVEIiwiVVNFUl9DUkVBVEVEIiwiVVNFUl9VUERBVEVEIiwiVVNFUl9ERUxFVEVEIiwiQk9PS0lOR19DUkVBVEVEIiwiQk9PS0lOR19VUERBVEVEIiwiQk9PS0lOR19DQU5DRUxMRUQiLCJCT09LSU5HX0NPTVBMRVRFRCIsIlNFUlZJQ0VfQ1JFQVRFRCIsIlNFUlZJQ0VfVVBEQVRFRCIsIlNFUlZJQ0VfREVMRVRFRCIsIlNFVFRJTkdfQ0hBTkdFRCIsIlJPTEVfQ0hBTkdFRCIsIkF1ZGl0TG9nIiwiY3JlYXRlIiwiYXVkaXREYXRhIiwicXVlcnkiLCJwYXJhbXMiLCJ1c2VySWQiLCJhY3Rpb24iLCJlbnRpdHlJZCIsImVudGl0eVR5cGUiLCJkZXRhaWxzIiwiaXBBZGRyZXNzIiwidXNlckFnZW50IiwicmVzdWx0IiwiZmluZEJ5SWQiLCJpbnNlcnRJZCIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJpZCIsImxvZ3MiLCJsZW5ndGgiLCJsb2ciLCJKU09OIiwicGFyc2UiLCJ1bmRlZmluZWQiLCJmaW5kIiwiZmlsdGVycyIsIm9wdGlvbnMiLCJwdXNoIiwiZGF0ZUZyb20iLCJkYXRlVG8iLCJjb3VudFF1ZXJ5IiwicmVwbGFjZSIsImNvdW50UmVzdWx0IiwidG90YWwiLCJjb3VudCIsInNvcnQiLCJvcmRlciIsImxpbWl0Iiwib2Zmc2V0IiwicGFnZSIsImZvckVhY2giLCJjbGVhbnVwIiwib2xkZXJUaGFuRGF5cyIsImFmZmVjdGVkUm93cyIsImNyZWF0ZUF1ZGl0TG9nIiwiZGF0YSIsInN0cmluZ2lmeSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./models/AuditLog.ts\n");

/***/ }),

/***/ "(rsc)/./models/User.ts":
/*!************************!*\
  !*** ./models/User.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   User: () => (/* binding */ User),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var _lib_mysql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mysql */ \"(rsc)/./lib/mysql.ts\");\n\n\nclass User {\n    // Create a new user\n    static async create(userData) {\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(userData.password, 10);\n        const query = `\n      INSERT INTO users (\n        name, email, password, role, phone, address, isActive, \n        settings, resetPasswordToken, resetPasswordExpires\n      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n    `;\n        const params = [\n            userData.name,\n            userData.email,\n            hashedPassword,\n            userData.role || 'USER',\n            userData.phone || null,\n            userData.address || null,\n            userData.isActive !== false ? 1 : 0,\n            userData.settings ? JSON.stringify(userData.settings) : null,\n            userData.resetPasswordToken || null,\n            userData.resetPasswordExpires || null\n        ];\n        const result = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, params);\n        return await User.findById(result.insertId);\n    }\n    // Find user by ID\n    static async findById(id) {\n        const query = 'SELECT * FROM users WHERE id = ?';\n        const users = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, [\n            id\n        ]);\n        if (users.length === 0) return null;\n        const user = users[0];\n        if (user.settings && typeof user.settings === 'string') {\n            try {\n                user.settings = JSON.parse(user.settings);\n            } catch  {\n                user.settings = undefined;\n            }\n        }\n        return user;\n    }\n    // Find user by email\n    static async findByEmail(email) {\n        const query = 'SELECT * FROM users WHERE email = ?';\n        const users = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, [\n            email\n        ]);\n        if (users.length === 0) return null;\n        const user = users[0];\n        if (user.settings && typeof user.settings === 'string') {\n            try {\n                user.settings = JSON.parse(user.settings);\n            } catch  {\n                user.settings = undefined;\n            }\n        }\n        return user;\n    }\n    // Find users with filters and pagination\n    static async find(filters = {}, options = {}) {\n        let query = 'SELECT * FROM users WHERE 1=1';\n        const params = [];\n        // Apply filters\n        if (filters.role) {\n            query += ' AND role = ?';\n            params.push(filters.role);\n        }\n        if (filters.isActive !== undefined) {\n            query += ' AND isActive = ?';\n            params.push(filters.isActive ? 1 : 0);\n        }\n        if (filters.search) {\n            query += ' AND (name LIKE ? OR email LIKE ?)';\n            params.push(`%${filters.search}%`, `%${filters.search}%`);\n        }\n        // Get total count\n        const countQuery = query.replace('SELECT *', 'SELECT COUNT(*) as count');\n        const countResult = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(countQuery, params);\n        const total = countResult[0].count;\n        // Apply sorting and pagination\n        const sort = options.sort || 'createdAt';\n        const order = options.order || 'DESC';\n        query += ` ORDER BY ${sort} ${order}`;\n        if (options.limit) {\n            const offset = ((options.page || 1) - 1) * options.limit;\n            query += ' LIMIT ? OFFSET ?';\n            params.push(options.limit, offset);\n        }\n        const users = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, params);\n        // Parse settings for each user\n        users.forEach((user)=>{\n            if (user.settings && typeof user.settings === 'string') {\n                try {\n                    user.settings = JSON.parse(user.settings);\n                } catch  {\n                    user.settings = undefined;\n                }\n            }\n        });\n        return {\n            users,\n            total\n        };\n    }\n    // Update user\n    static async update(id, updates) {\n        const allowedFields = [\n            'name',\n            'email',\n            'role',\n            'phone',\n            'address',\n            'isActive',\n            'settings',\n            'lastLogin',\n            'resetPasswordToken',\n            'resetPasswordExpires'\n        ];\n        const fields = [];\n        const params = [];\n        Object.keys(updates).forEach((key)=>{\n            if (allowedFields.includes(key) && updates[key] !== undefined) {\n                fields.push(`${key} = ?`);\n                if (key === 'settings' && typeof updates[key] === 'object') {\n                    params.push(JSON.stringify(updates[key]));\n                } else if (key === 'isActive') {\n                    params.push(updates[key] ? 1 : 0);\n                } else {\n                    params.push(updates[key]);\n                }\n            }\n        });\n        if (fields.length === 0) return null;\n        fields.push('updatedAt = NOW()');\n        params.push(id);\n        const query = `UPDATE users SET ${fields.join(', ')} WHERE id = ?`;\n        await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, params);\n        return await User.findById(id);\n    }\n    // Delete user\n    static async delete(id) {\n        const query = 'DELETE FROM users WHERE id = ?';\n        const result = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, [\n            id\n        ]);\n        return result.affectedRows > 0;\n    }\n    // Compare password\n    static async comparePassword(plainPassword, hashedPassword) {\n        return bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(plainPassword, hashedPassword);\n    }\n    // Update password\n    static async updatePassword(id, newPassword) {\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(newPassword, 10);\n        const query = 'UPDATE users SET password = ?, updatedAt = NOW() WHERE id = ?';\n        const result = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, [\n            hashedPassword,\n            id\n        ]);\n        return result.affectedRows > 0;\n    }\n    // Find by reset token\n    static async findByResetToken(token) {\n        const query = `\n      SELECT * FROM users \n      WHERE resetPasswordToken = ? \n      AND resetPasswordExpires > NOW()\n    `;\n        const users = await (0,_lib_mysql__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(query, [\n            token\n        ]);\n        return users.length > 0 ? users[0] : null;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsa0JBQWtCO0lBQ2xCLGFBQWF3RCxlQUFlckMsRUFBVSxFQUFFc0MsV0FBbUIsRUFBb0I7UUFDN0UsTUFBTXpELGlCQUFpQixNQUFNTCxxREFBVyxDQUFDOEQsYUFBYTtRQUN0RCxNQUFNdEQsUUFBUTtRQUNkLE1BQU1hLFNBQWMsTUFBTXBCLHdEQUFZQSxDQUFDTyxPQUFPO1lBQUNIO1lBQWdCbUI7U0FBRztRQUNsRSxPQUFPSCxPQUFPb0MsWUFBWSxHQUFHO0lBQy9CO0lBRUEsc0JBQXNCO0lBQ3RCLGFBQWFNLGlCQUFpQkMsS0FBYSxFQUF5QjtRQUNsRSxNQUFNeEQsUUFBUSxDQUFDOzs7O0lBSWYsQ0FBQztRQUNELE1BQU1pQixRQUFpQixNQUFNeEIsd0RBQVlBLENBQUNPLE9BQU87WUFBQ3dEO1NBQU07UUFDeEQsT0FBT3ZDLE1BQU1DLE1BQU0sR0FBRyxJQUFJRCxLQUFLLENBQUMsRUFBRSxHQUFHO0lBQ3ZDO0FBQ0Y7QUFFQSxpRUFBZXZCLElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvcGVyc29uYWwtd29ya3NwYWNlL2Npdml4LXNxbC9tb2RlbHMvVXNlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRqc1wiO1xuaW1wb3J0IHsgZXhlY3V0ZVF1ZXJ5IH0gZnJvbSBcIkAvbGliL215c3FsXCI7XG5cbi8vIFVzZXIgaW50ZXJmYWNlc1xuZXhwb3J0IGludGVyZmFjZSBJTm90aWZpY2F0aW9uU2V0dGluZ3Mge1xuICBlbWFpbDogYm9vbGVhbjtcbiAgc21zOiBib29sZWFuO1xuICBtYXJrZXRpbmc6IGJvb2xlYW47XG4gIHJlbWluZGVyczogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQXBwZWFyYW5jZVNldHRpbmdzIHtcbiAgdGhlbWU6ICdsaWdodCcgfCAnZGFyaycgfCAnc3lzdGVtJztcbiAgZm9udFNpemU6ICdzbWFsbCcgfCAnbWVkaXVtJyB8ICdsYXJnZSc7XG4gIHJlZHVjZUFuaW1hdGlvbnM6IGJvb2xlYW47XG4gIGhpZ2hDb250cmFzdDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUHJpdmFjeVNldHRpbmdzIHtcbiAgcHJvZmlsZVZpc2liaWxpdHk6ICdwdWJsaWMnIHwgJ2NvbnRhY3RzJyB8ICdwcml2YXRlJztcbiAgc2hhcmVCb29raW5nSGlzdG9yeTogYm9vbGVhbjtcbiAgc2hhcmVDb250YWN0SW5mbzogYm9vbGVhbjtcbiAgYWxsb3dEYXRhQ29sbGVjdGlvbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVXNlclNldHRpbmdzIHtcbiAgbm90aWZpY2F0aW9uczogSU5vdGlmaWNhdGlvblNldHRpbmdzO1xuICBhcHBlYXJhbmNlOiBJQXBwZWFyYW5jZVNldHRpbmdzO1xuICBwcml2YWN5OiBJUHJpdmFjeVNldHRpbmdzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElVc2VyIHtcbiAgaWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xuICByb2xlOiBcIlVTRVJcIiB8IFwiQUdFTlRcIiB8IFwiQURNSU5cIiB8IFwiU1VQRVJfQURNSU5cIjtcbiAgcGhvbmU/OiBzdHJpbmc7XG4gIGFkZHJlc3M/OiBzdHJpbmc7XG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBzZXR0aW5ncz86IHN0cmluZzsgLy8gSlNPTiBzdHJpbmdcbiAgbGFzdExvZ2luPzogRGF0ZTtcbiAgcmVzZXRQYXNzd29yZFRva2VuPzogc3RyaW5nO1xuICByZXNldFBhc3N3b3JkRXhwaXJlcz86IERhdGU7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufVxuXG5leHBvcnQgY2xhc3MgVXNlciB7XG4gIC8vIENyZWF0ZSBhIG5ldyB1c2VyXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUodXNlckRhdGE6IE9taXQ8SVVzZXIsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFByb21pc2U8SVVzZXI+IHtcbiAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHVzZXJEYXRhLnBhc3N3b3JkLCAxMCk7XG4gICAgXG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBJTlNFUlQgSU5UTyB1c2VycyAoXG4gICAgICAgIG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgcGhvbmUsIGFkZHJlc3MsIGlzQWN0aXZlLCBcbiAgICAgICAgc2V0dGluZ3MsIHJlc2V0UGFzc3dvcmRUb2tlbiwgcmVzZXRQYXNzd29yZEV4cGlyZXNcbiAgICAgICkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxuICAgIGA7XG4gICAgXG4gICAgY29uc3QgcGFyYW1zID0gW1xuICAgICAgdXNlckRhdGEubmFtZSxcbiAgICAgIHVzZXJEYXRhLmVtYWlsLFxuICAgICAgaGFzaGVkUGFzc3dvcmQsXG4gICAgICB1c2VyRGF0YS5yb2xlIHx8ICdVU0VSJyxcbiAgICAgIHVzZXJEYXRhLnBob25lIHx8IG51bGwsXG4gICAgICB1c2VyRGF0YS5hZGRyZXNzIHx8IG51bGwsXG4gICAgICB1c2VyRGF0YS5pc0FjdGl2ZSAhPT0gZmFsc2UgPyAxIDogMCxcbiAgICAgIHVzZXJEYXRhLnNldHRpbmdzID8gSlNPTi5zdHJpbmdpZnkodXNlckRhdGEuc2V0dGluZ3MpIDogbnVsbCxcbiAgICAgIHVzZXJEYXRhLnJlc2V0UGFzc3dvcmRUb2tlbiB8fCBudWxsLFxuICAgICAgdXNlckRhdGEucmVzZXRQYXNzd29yZEV4cGlyZXMgfHwgbnVsbFxuICAgIF07XG4gICAgXG4gICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCBleGVjdXRlUXVlcnkocXVlcnksIHBhcmFtcyk7XG4gICAgcmV0dXJuIGF3YWl0IFVzZXIuZmluZEJ5SWQocmVzdWx0Lmluc2VydElkKTtcbiAgfVxuXG4gIC8vIEZpbmQgdXNlciBieSBJRFxuICBzdGF0aWMgYXN5bmMgZmluZEJ5SWQoaWQ6IG51bWJlcik6IFByb21pc2U8SVVzZXIgfCBudWxsPiB7XG4gICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9ID8nO1xuICAgIGNvbnN0IHVzZXJzOiBJVXNlcltdID0gYXdhaXQgZXhlY3V0ZVF1ZXJ5KHF1ZXJ5LCBbaWRdKTtcbiAgICBcbiAgICBpZiAodXNlcnMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICBjb25zdCB1c2VyID0gdXNlcnNbMF07XG4gICAgaWYgKHVzZXIuc2V0dGluZ3MgJiYgdHlwZW9mIHVzZXIuc2V0dGluZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICB1c2VyLnNldHRpbmdzID0gSlNPTi5wYXJzZSh1c2VyLnNldHRpbmdzKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB1c2VyLnNldHRpbmdzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIC8vIEZpbmQgdXNlciBieSBlbWFpbFxuICBzdGF0aWMgYXN5bmMgZmluZEJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8SVVzZXIgfCBudWxsPiB7XG4gICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ID8nO1xuICAgIGNvbnN0IHVzZXJzOiBJVXNlcltdID0gYXdhaXQgZXhlY3V0ZVF1ZXJ5KHF1ZXJ5LCBbZW1haWxdKTtcbiAgICBcbiAgICBpZiAodXNlcnMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICBjb25zdCB1c2VyID0gdXNlcnNbMF07XG4gICAgaWYgKHVzZXIuc2V0dGluZ3MgJiYgdHlwZW9mIHVzZXIuc2V0dGluZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICB1c2VyLnNldHRpbmdzID0gSlNPTi5wYXJzZSh1c2VyLnNldHRpbmdzKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB1c2VyLnNldHRpbmdzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIC8vIEZpbmQgdXNlcnMgd2l0aCBmaWx0ZXJzIGFuZCBwYWdpbmF0aW9uXG4gIHN0YXRpYyBhc3luYyBmaW5kKFxuICAgIGZpbHRlcnM6IHtcbiAgICAgIHJvbGU/OiBzdHJpbmc7XG4gICAgICBzZWFyY2g/OiBzdHJpbmc7XG4gICAgICBpc0FjdGl2ZT86IGJvb2xlYW47XG4gICAgfSA9IHt9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHBhZ2U/OiBudW1iZXI7XG4gICAgICBsaW1pdD86IG51bWJlcjtcbiAgICAgIHNvcnQ/OiBzdHJpbmc7XG4gICAgICBvcmRlcj86ICdBU0MnIHwgJ0RFU0MnO1xuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPHsgdXNlcnM6IElVc2VyW107IHRvdGFsOiBudW1iZXIgfT4ge1xuICAgIGxldCBxdWVyeSA9ICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIDE9MSc7XG4gICAgY29uc3QgcGFyYW1zOiBhbnlbXSA9IFtdO1xuICAgIFxuICAgIC8vIEFwcGx5IGZpbHRlcnNcbiAgICBpZiAoZmlsdGVycy5yb2xlKSB7XG4gICAgICBxdWVyeSArPSAnIEFORCByb2xlID0gPyc7XG4gICAgICBwYXJhbXMucHVzaChmaWx0ZXJzLnJvbGUpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZmlsdGVycy5pc0FjdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBxdWVyeSArPSAnIEFORCBpc0FjdGl2ZSA9ID8nO1xuICAgICAgcGFyYW1zLnB1c2goZmlsdGVycy5pc0FjdGl2ZSA/IDEgOiAwKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGZpbHRlcnMuc2VhcmNoKSB7XG4gICAgICBxdWVyeSArPSAnIEFORCAobmFtZSBMSUtFID8gT1IgZW1haWwgTElLRSA/KSc7XG4gICAgICBwYXJhbXMucHVzaChgJSR7ZmlsdGVycy5zZWFyY2h9JWAsIGAlJHtmaWx0ZXJzLnNlYXJjaH0lYCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEdldCB0b3RhbCBjb3VudFxuICAgIGNvbnN0IGNvdW50UXVlcnkgPSBxdWVyeS5yZXBsYWNlKCdTRUxFQ1QgKicsICdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQnKTtcbiAgICBjb25zdCBjb3VudFJlc3VsdDogYW55W10gPSBhd2FpdCBleGVjdXRlUXVlcnkoY291bnRRdWVyeSwgcGFyYW1zKTtcbiAgICBjb25zdCB0b3RhbCA9IGNvdW50UmVzdWx0WzBdLmNvdW50O1xuICAgIFxuICAgIC8vIEFwcGx5IHNvcnRpbmcgYW5kIHBhZ2luYXRpb25cbiAgICBjb25zdCBzb3J0ID0gb3B0aW9ucy5zb3J0IHx8ICdjcmVhdGVkQXQnO1xuICAgIGNvbnN0IG9yZGVyID0gb3B0aW9ucy5vcmRlciB8fCAnREVTQyc7XG4gICAgcXVlcnkgKz0gYCBPUkRFUiBCWSAke3NvcnR9ICR7b3JkZXJ9YDtcbiAgICBcbiAgICBpZiAob3B0aW9ucy5saW1pdCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gKChvcHRpb25zLnBhZ2UgfHwgMSkgLSAxKSAqIG9wdGlvbnMubGltaXQ7XG4gICAgICBxdWVyeSArPSAnIExJTUlUID8gT0ZGU0VUID8nO1xuICAgICAgcGFyYW1zLnB1c2gob3B0aW9ucy5saW1pdCwgb2Zmc2V0KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXNlcnM6IElVc2VyW10gPSBhd2FpdCBleGVjdXRlUXVlcnkocXVlcnksIHBhcmFtcyk7XG4gICAgXG4gICAgLy8gUGFyc2Ugc2V0dGluZ3MgZm9yIGVhY2ggdXNlclxuICAgIHVzZXJzLmZvckVhY2godXNlciA9PiB7XG4gICAgICBpZiAodXNlci5zZXR0aW5ncyAmJiB0eXBlb2YgdXNlci5zZXR0aW5ncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB1c2VyLnNldHRpbmdzID0gSlNPTi5wYXJzZSh1c2VyLnNldHRpbmdzKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgdXNlci5zZXR0aW5ncyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7IHVzZXJzLCB0b3RhbCB9O1xuICB9XG5cbiAgLy8gVXBkYXRlIHVzZXJcbiAgc3RhdGljIGFzeW5jIHVwZGF0ZShpZDogbnVtYmVyLCB1cGRhdGVzOiBQYXJ0aWFsPElVc2VyPik6IFByb21pc2U8SVVzZXIgfCBudWxsPiB7XG4gICAgY29uc3QgYWxsb3dlZEZpZWxkcyA9IFtcbiAgICAgICduYW1lJywgJ2VtYWlsJywgJ3JvbGUnLCAncGhvbmUnLCAnYWRkcmVzcycsICdpc0FjdGl2ZScsIFxuICAgICAgJ3NldHRpbmdzJywgJ2xhc3RMb2dpbicsICdyZXNldFBhc3N3b3JkVG9rZW4nLCAncmVzZXRQYXNzd29yZEV4cGlyZXMnXG4gICAgXTtcbiAgICBcbiAgICBjb25zdCBmaWVsZHM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgcGFyYW1zOiBhbnlbXSA9IFtdO1xuICAgIFxuICAgIE9iamVjdC5rZXlzKHVwZGF0ZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChhbGxvd2VkRmllbGRzLmluY2x1ZGVzKGtleSkgJiYgdXBkYXRlc1trZXkgYXMga2V5b2YgSVVzZXJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZmllbGRzLnB1c2goYCR7a2V5fSA9ID9gKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChrZXkgPT09ICdzZXR0aW5ncycgJiYgdHlwZW9mIHVwZGF0ZXNba2V5IGFzIGtleW9mIElVc2VyXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBwYXJhbXMucHVzaChKU09OLnN0cmluZ2lmeSh1cGRhdGVzW2tleSBhcyBrZXlvZiBJVXNlcl0pKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdpc0FjdGl2ZScpIHtcbiAgICAgICAgICBwYXJhbXMucHVzaCh1cGRhdGVzW2tleSBhcyBrZXlvZiBJVXNlcl0gPyAxIDogMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyYW1zLnB1c2godXBkYXRlc1trZXkgYXMga2V5b2YgSVVzZXJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlmIChmaWVsZHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICBmaWVsZHMucHVzaCgndXBkYXRlZEF0ID0gTk9XKCknKTtcbiAgICBwYXJhbXMucHVzaChpZCk7XG4gICAgXG4gICAgY29uc3QgcXVlcnkgPSBgVVBEQVRFIHVzZXJzIFNFVCAke2ZpZWxkcy5qb2luKCcsICcpfSBXSEVSRSBpZCA9ID9gO1xuICAgIGF3YWl0IGV4ZWN1dGVRdWVyeShxdWVyeSwgcGFyYW1zKTtcbiAgICBcbiAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kQnlJZChpZCk7XG4gIH1cblxuICAvLyBEZWxldGUgdXNlclxuICBzdGF0aWMgYXN5bmMgZGVsZXRlKGlkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBxdWVyeSA9ICdERUxFVEUgRlJPTSB1c2VycyBXSEVSRSBpZCA9ID8nO1xuICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgZXhlY3V0ZVF1ZXJ5KHF1ZXJ5LCBbaWRdKTtcbiAgICByZXR1cm4gcmVzdWx0LmFmZmVjdGVkUm93cyA+IDA7XG4gIH1cblxuICAvLyBDb21wYXJlIHBhc3N3b3JkXG4gIHN0YXRpYyBhc3luYyBjb21wYXJlUGFzc3dvcmQocGxhaW5QYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKHBsYWluUGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBwYXNzd29yZFxuICBzdGF0aWMgYXN5bmMgdXBkYXRlUGFzc3dvcmQoaWQ6IG51bWJlciwgbmV3UGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gobmV3UGFzc3dvcmQsIDEwKTtcbiAgICBjb25zdCBxdWVyeSA9ICdVUERBVEUgdXNlcnMgU0VUIHBhc3N3b3JkID0gPywgdXBkYXRlZEF0ID0gTk9XKCkgV0hFUkUgaWQgPSA/JztcbiAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IGV4ZWN1dGVRdWVyeShxdWVyeSwgW2hhc2hlZFBhc3N3b3JkLCBpZF0pO1xuICAgIHJldHVybiByZXN1bHQuYWZmZWN0ZWRSb3dzID4gMDtcbiAgfVxuXG4gIC8vIEZpbmQgYnkgcmVzZXQgdG9rZW5cbiAgc3RhdGljIGFzeW5jIGZpbmRCeVJlc2V0VG9rZW4odG9rZW46IHN0cmluZyk6IFByb21pc2U8SVVzZXIgfCBudWxsPiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgKiBGUk9NIHVzZXJzIFxuICAgICAgV0hFUkUgcmVzZXRQYXNzd29yZFRva2VuID0gPyBcbiAgICAgIEFORCByZXNldFBhc3N3b3JkRXhwaXJlcyA+IE5PVygpXG4gICAgYDtcbiAgICBjb25zdCB1c2VyczogSVVzZXJbXSA9IGF3YWl0IGV4ZWN1dGVRdWVyeShxdWVyeSwgW3Rva2VuXSk7XG4gICAgcmV0dXJuIHVzZXJzLmxlbmd0aCA+IDAgPyB1c2Vyc1swXSA6IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlcjsiXSwibmFtZXMiOlsiYmNyeXB0IiwiZXhlY3V0ZVF1ZXJ5IiwiVXNlciIsImNyZWF0ZSIsInVzZXJEYXRhIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwicGFzc3dvcmQiLCJxdWVyeSIsInBhcmFtcyIsIm5hbWUiLCJlbWFpbCIsInJvbGUiLCJwaG9uZSIsImFkZHJlc3MiLCJpc0FjdGl2ZSIsInNldHRpbmdzIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc2V0UGFzc3dvcmRUb2tlbiIsInJlc2V0UGFzc3dvcmRFeHBpcmVzIiwicmVzdWx0IiwiZmluZEJ5SWQiLCJpbnNlcnRJZCIsImlkIiwidXNlcnMiLCJsZW5ndGgiLCJ1c2VyIiwicGFyc2UiLCJ1bmRlZmluZWQiLCJmaW5kQnlFbWFpbCIsImZpbmQiLCJmaWx0ZXJzIiwib3B0aW9ucyIsInB1c2giLCJzZWFyY2giLCJjb3VudFF1ZXJ5IiwicmVwbGFjZSIsImNvdW50UmVzdWx0IiwidG90YWwiLCJjb3VudCIsInNvcnQiLCJvcmRlciIsImxpbWl0Iiwib2Zmc2V0IiwicGFnZSIsImZvckVhY2giLCJ1cGRhdGUiLCJ1cGRhdGVzIiwiYWxsb3dlZEZpZWxkcyIsImZpZWxkcyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJpbmNsdWRlcyIsImpvaW4iLCJkZWxldGUiLCJhZmZlY3RlZFJvd3MiLCJjb21wYXJlUGFzc3dvcmQiLCJwbGFpblBhc3N3b3JkIiwiY29tcGFyZSIsInVwZGF0ZVBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJmaW5kQnlSZXNldFRva2VuIiwidG9rZW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/User.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix-sql%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix-sql&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix-sql%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix-sql&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _Users_macbook_Desktop_personal_workspace_civix_sql_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./app/api/auth/[...nextauth]/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    distDir: \".next\" || 0,\n    projectDir:  false || '',\n    resolvedPagePath: \"/Users/macbook/Desktop/personal-workspace/civix-sql/app/api/auth/[...nextauth]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_macbook_Desktop_personal_workspace_civix_sql_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/auth/[...nextauth]/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = \"false\";\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                dynamicIO: Boolean(nextConfig.experimental.dynamicIO),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1hY2Jvb2slMkZEZXNrdG9wJTJGcGVyc29uYWwtd29ya3NwYWNlJTJGY2l2aXgtc3FsJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRm1hY2Jvb2slMkZEZXNrdG9wJTJGcGVyc29uYWwtd29ya3NwYWNlJTJGY2l2aXgtc3FsJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2Q7QUFDUztBQUNPO0FBQ0s7QUFDbUM7QUFDakQ7QUFDTztBQUNmO0FBQ3NDO0FBQ3pCO0FBQ007QUFDQztBQUNoQjtBQUNrRDtBQUNwSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhLE9BQW9DLElBQUksQ0FBRTtBQUN2RCxnQkFBZ0IsTUFBdUM7QUFDdkQ7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7QUFDbkY7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxLQUFxQixFQUFFLEVBRTFCLENBQUM7QUFDTjtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBd0M7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0pBQW9KO0FBQ2hLLDhCQUE4Qiw2RkFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZGQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRFQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSw4QkFBOEIsNkVBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRFQUFlO0FBQzNDLDRCQUE0Qiw2RUFBZ0I7QUFDNUMsb0JBQW9CLHlHQUFrQixrQ0FBa0MsaUhBQXNCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsZ0ZBQWM7QUFDL0UsK0RBQStELHlDQUF5QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRLEVBQUUsTUFBTTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGtCQUFrQjtBQUNsQix1Q0FBdUMsUUFBUSxFQUFFLFFBQVE7QUFDekQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLG9CQUFvQjtBQUNuRTtBQUNBLHlCQUF5Qiw2RUFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHNGQUF5QjtBQUNqRTtBQUNBLG9DQUFvQyw0RUFBc0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSkFBc0osb0VBQWM7QUFDcEssMElBQTBJLG9FQUFjO0FBQ3hKO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyw2RUFBZTtBQUNyRDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsOEJBQThCLDZFQUFZO0FBQzFDO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsMkZBQW1CO0FBQ2pFO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSUFBcUksNkVBQWU7QUFDcEo7QUFDQSwyR0FBMkcsaUhBQWlIO0FBQzVOO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQiw2RUFBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsd0ZBQTJCO0FBQ3ZELGtCQUFrQiw2RUFBYztBQUNoQywrQkFBK0IsNEVBQXNCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDBGQUFxQjtBQUNsRTtBQUNBLGtCQUFrQiw2RUFBWTtBQUM5QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvcGVyc29uYWwtd29ya3NwYWNlL2Npdml4LXNxbC9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJzdGFuZGFsb25lXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICBwcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJycsXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbWFjYm9vay9EZXNrdG9wL3BlcnNvbmFsLXdvcmtzcGFjZS9jaXZpeC1zcWwvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgZHluYW1pY0lPOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmR5bmFtaWNJTyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZW4ndCB3cmFwcGVkIGJ5IGJhc2Utc2VydmVyIGhhbmRsZSBoZXJlXG4gICAgICAgIGlmICghYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix-sql%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix-sql&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/@auth","vendor-chunks/next-auth","vendor-chunks/mysql2","vendor-chunks/iconv-lite","vendor-chunks/aws-ssl-profiles","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/bcryptjs","vendor-chunks/lru-cache","vendor-chunks/long","vendor-chunks/safer-buffer","vendor-chunks/named-placeholders","vendor-chunks/lru.min","vendor-chunks/is-property","vendor-chunks/generate-function","vendor-chunks/denque"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix-sql%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbook%2FDesktop%2Fpersonal-workspace%2Fcivix-sql&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();